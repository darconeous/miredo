------------------------------------------------------------------------
r657 | remi | 2005-08-22 22:37:57 +0300 (Mon, 22 Aug 2005) | 6 lines
Changed paths:
   M /trunk/libteredo/maintain.cpp

Fix Router Solicitation sending madness in maintenance procedure
when a single maintenance packet failed to obtain an answer from the Teredo
server

--> I think I will have to make a bugfix release for that one

------------------------------------------------------------------------
r656 | remi | 2005-08-22 22:34:39 +0300 (Mon, 22 Aug 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/peerlist.cpp
   M /trunk/libteredo/peerlist.h

Compile fix for --disable-teredo-client

------------------------------------------------------------------------
r655 | remi | 2005-08-22 21:12:11 +0300 (Mon, 22 Aug 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/peerlist.cpp

Fix obvious fatal regression in previous commit

------------------------------------------------------------------------
r654 | remi | 2005-08-22 20:59:32 +0300 (Mon, 22 Aug 2005) | 5 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/maintain.cpp
   M /trunk/libteredo/peerlist.cpp
   M /trunk/libteredo/peerlist.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

- Fix handling of unattended server Router Solicitation
- Fix and clean up maintenance procedure
- Clean up to prepare for new peer list lookups
  (probably based on Judy)

------------------------------------------------------------------------
r653 | remi | 2005-08-22 20:56:49 +0300 (Mon, 22 Aug 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/queue.h

Fix compiler warning

------------------------------------------------------------------------
r652 | remi | 2005-08-22 20:56:27 +0300 (Mon, 22 Aug 2005) | 2 lines
Changed paths:
   M /trunk/src/conf.cpp

Fix invalid use of free'd pointer

------------------------------------------------------------------------
r651 | remi | 2005-08-21 19:54:41 +0300 (Sun, 21 Aug 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/packets.cpp

Some code optimization
(in particular, remove the router solicitation memcpy)

------------------------------------------------------------------------
r650 | remi | 2005-08-21 13:13:56 +0300 (Sun, 21 Aug 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/peerlist.cpp
   M /trunk/libteredo/peerlist.h
   M /trunk/libteredo/queue.cpp
   M /trunk/libteredo/queue.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Smaller memory footprint, more efficient and cleaned up packet queueing

------------------------------------------------------------------------
r649 | remi | 2005-08-21 10:42:18 +0300 (Sun, 21 Aug 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/Makefile.am
   M /trunk/libteredo/relay.cpp
   A /trunk/libteredo/security.c (from /trunk/libteredo/security.cpp:647)
   D /trunk/libteredo/security.cpp
   M /trunk/libteredo/security.h

Convert security.cpp to pure C99

------------------------------------------------------------------------
r648 | remi | 2005-08-20 14:48:34 +0300 (Sat, 20 Aug 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Don't build static libraries

------------------------------------------------------------------------
r647 | remi | 2005-07-20 19:11:30 +0300 (Wed, 20 Jul 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot
   M /trunk/src/main.c

- Fix French quotes spacing
- Fix American and French semi-colon spacing

------------------------------------------------------------------------
r646 | remi | 2005-07-14 21:37:22 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/admin
   M /trunk/bootstrap

Support for libtool

------------------------------------------------------------------------
r645 | remi | 2005-07-14 21:36:21 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk
   M /trunk/libteredo
   M /trunk/src

svn:ignore updates for libtool

------------------------------------------------------------------------
r644 | remi | 2005-07-14 21:33:27 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

Compile fix

------------------------------------------------------------------------
r643 | remi | 2005-07-14 21:25:05 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/libteredo/Makefile.am
   D /trunk/libteredo/teredo-udp.h
   M /trunk/src/Makefile.am

Provide libteredo as a shared library

------------------------------------------------------------------------
r642 | remi | 2005-07-14 21:15:39 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.c

Forgot this file

------------------------------------------------------------------------
r641 | remi | 2005-07-14 21:15:08 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay-udp.cpp
   M /trunk/libteredo/relay-udp.h
   M /trunk/libteredo/server-udp.cpp
   M /trunk/libteredo/server-udp.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo.h

Another bunch of optimization/inlining

------------------------------------------------------------------------
r640 | remi | 2005-07-14 20:45:14 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.h

Oops. This time it seems to work

------------------------------------------------------------------------
r639 | remi | 2005-07-14 20:43:55 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.h

Type-o

------------------------------------------------------------------------
r638 | remi | 2005-07-14 20:42:13 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.h

Attempt to fix, this time with my brain switched on

------------------------------------------------------------------------
r637 | remi | 2005-07-14 20:38:36 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.h

Try to fix previous commit

------------------------------------------------------------------------
r636 | remi | 2005-07-14 20:31:29 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.c
   M /trunk/libteredo/teredo.h

Use static inline when macro not safe

------------------------------------------------------------------------
r635 | remi | 2005-07-14 20:11:03 +0300 (Thu, 14 Jul 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.c
   M /trunk/libteredo/teredo.h

Use macro rather than tiny functions when it is safe

------------------------------------------------------------------------
r634 | remi | 2005-07-14 18:45:01 +0300 (Thu, 14 Jul 2005) | 4 lines
Changed paths:
   M /trunk/libteredo/maintain.cpp
   M /trunk/libteredo/relay.h

- Don't use asynchronous cancellation - it was not safe
- Use shorter restart delay in case of failure
  (so that miredo goes up sooner when the connectivity is acquired)

------------------------------------------------------------------------
r633 | remi | 2005-07-07 20:48:41 +0300 (Thu, 07 Jul 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/libteredo/Makefile.am
   M /trunk/libtun6/Makefile.am
   M /trunk/src/Makefile.am

pthread compilation parameters cleanup

------------------------------------------------------------------------
r632 | remi | 2005-07-01 21:11:02 +0300 (Fri, 01 Jul 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/src/conf.cpp
   M /trunk/src/privproc.cpp

PF_* -> AF_*

------------------------------------------------------------------------
r631 | remi | 2005-06-25 10:26:56 +0300 (Sat, 25 Jun 2005) | 2 lines
Changed paths:
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h

Don't leak pidfile descriptor to non-privileged processes

------------------------------------------------------------------------
r630 | remi | 2005-06-25 10:13:07 +0300 (Sat, 25 Jun 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/server-udp.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Fix busy waiting problem in miredo-server

------------------------------------------------------------------------
r629 | remi | 2005-06-18 21:03:06 +0300 (Sat, 18 Jun 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Fix bug whereby only secondary server socket would be used
Does NOT fix 100% CPU usage bug

------------------------------------------------------------------------
r628 | remi | 2005-06-18 13:45:57 +0300 (Sat, 18 Jun 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/src/server.cpp

Multithreaded and cleaned up miredo-server

------------------------------------------------------------------------
r627 | remi | 2005-06-17 20:48:55 +0300 (Fri, 17 Jun 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Bump version number

------------------------------------------------------------------------
r626 | remi | 2005-06-17 20:47:16 +0300 (Fri, 17 Jun 2005) | 3 lines
Changed paths:
   M /trunk/src/server.cpp

Fix caching of select()'s readset in miredo-server as was done a
while ago in miredo

------------------------------------------------------------------------
r625 | remi | 2005-06-17 20:40:56 +0300 (Fri, 17 Jun 2005) | 2 lines
Changed paths:
   M /trunk/src/server.cpp

Apply r572 to miredo-server

------------------------------------------------------------------------
r623 | remi | 2005-06-17 18:55:41 +0300 (Fri, 17 Jun 2005) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Update ChangeLog

------------------------------------------------------------------------
r622 | remi | 2005-06-17 17:54:17 +0200 (ven, 17 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/TODO
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

Prepare make dist

------------------------------------------------------------------------
r621 | remi | 2005-06-17 17:35:53 +0200 (ven, 17 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/NEWS
   M /trunk/README
   M /trunk/TODO
   M /trunk/doc/miredo.8

Document OpenBSD support

------------------------------------------------------------------------
r620 | remi | 2005-06-17 17:02:19 +0200 (ven, 17 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/main.c

Work-around for a buggy OS known as OpenBSD

------------------------------------------------------------------------
r619 | remi | 2005-06-17 16:59:46 +0200 (ven, 17 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/security.cpp

Fix random device file path on OpenBSD

------------------------------------------------------------------------
r618 | remi | 2005-06-17 15:24:27 +0200 (ven, 17 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/src/main.c

Makes OpenBSD happy

------------------------------------------------------------------------
r617 | remi | 2005-06-17 08:46:55 +0200 (ven, 17 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/NEWS
   M /trunk/README
   M /trunk/TODO
   M /trunk/doc/miredo.8
   M /trunk/libtun6/ipv6-tunnel.cpp

Doc update

------------------------------------------------------------------------
r616 | remi | 2005-06-16 21:15:32 +0200 (jeu, 16 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/TODO
   M /trunk/libtun6/ipv6-tunnel.cpp

At long last, route setup on FreeBSD works :-)

------------------------------------------------------------------------
r615 | remi | 2005-06-16 20:45:34 +0200 (jeu, 16 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libtun6/ipv6-tunnel.cpp

FreeBSD compile fix + clean up

------------------------------------------------------------------------
r614 | remi | 2005-06-16 18:24:53 +0200 (jeu, 16 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libtun6/ipv6-tunnel.cpp

Remove debug messages

------------------------------------------------------------------------
r613 | remi | 2005-06-16 18:15:27 +0200 (jeu, 16 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libtun6/ipv6-tunnel.cpp

FreeBSD partial compile fix

------------------------------------------------------------------------
r612 | remi | 2005-06-16 18:15:12 +0200 (jeu, 16 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

PO update

------------------------------------------------------------------------
r611 | remi | 2005-06-16 18:10:29 +0200 (jeu, 16 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/main.c

Fix warning when compiling without NLS

------------------------------------------------------------------------
r610 | remi | 2005-06-16 17:49:16 +0200 (jeu, 16 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/Makefile.am

Fix make distcheck

------------------------------------------------------------------------
r609 | remi | 2005-06-15 19:18:32 +0200 (mer, 15 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/src/relay.cpp

clean up

------------------------------------------------------------------------
r608 | remi | 2005-06-15 19:14:22 +0200 (mer, 15 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/privproc.cpp

Removes addresses and route on exit

------------------------------------------------------------------------
r607 | remi | 2005-06-15 18:56:23 +0200 (mer, 15 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/TODO
   M /trunk/libtun6/ipv6-tunnel.cpp

NetBSD tunnel addresses setup support

------------------------------------------------------------------------
r606 | remi | 2005-06-15 18:56:01 +0200 (mer, 15 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/server.cpp

NetBSD compile fix

------------------------------------------------------------------------
r605 | remi | 2005-06-15 18:29:57 +0200 (mer, 15 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/m4/sockaddr.m4

Fix sockaddr.sa_len detection

------------------------------------------------------------------------
r604 | remi | 2005-06-15 18:11:42 +0200 (mer, 15 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/maintain.cpp

Fix possible (unlikely) locked mutex destroy bug on NetBSD in syslog

------------------------------------------------------------------------
r603 | remi | 2005-06-14 22:14:57 +0200 (mar, 14 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/maintain.cpp

More complete fix for NetBSD

------------------------------------------------------------------------
r602 | remi | 2005-06-14 21:59:15 +0200 (mar, 14 jun 2005) | 4 lines
Chemins modifiés :
   M /trunk/libteredo/maintain.cpp

Fix pthread_cond_timedwait call : previously failed to unlock the
maintenance mutex if the maintenance thread was cancelled
(i.e. upon exit)

------------------------------------------------------------------------
r601 | remi | 2005-06-14 18:59:21 +0200 (mar, 14 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/server.cpp

Another compile fix

------------------------------------------------------------------------
r600 | remi | 2005-06-14 18:58:03 +0200 (mar, 14 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/conf.cpp

NetBSD compile fix

------------------------------------------------------------------------
r599 | remi | 2005-06-14 18:49:21 +0200 (mar, 14 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/bootstrap

Bootstrap NetBSD fix

------------------------------------------------------------------------
r598 | remi | 2005-06-11 22:44:55 +0200 (sam, 11 jun 2005) | 3 lines
Chemins modifiés :
   M /trunk/libtun6/ipv6-tunnel.cpp

Prevent autoconfiguration through sysctl() (/proc actually) on Linux
It doesn't prevent initial attempt at autoconfiguration by the kernel :(

------------------------------------------------------------------------
r597 | remi | 2005-06-09 10:54:41 +0200 (jeu, 09 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

ICC warning fixes

------------------------------------------------------------------------
r596 | remi | 2005-06-09 10:49:58 +0200 (jeu, 09 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/maintain.cpp
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/server.cpp
   M /trunk/src/conf.cpp
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/privproc.cpp
   M /trunk/src/relay.cpp

Intel compiler warning fixes

------------------------------------------------------------------------
r595 | remi | 2005-06-09 10:28:17 +0200 (jeu, 09 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/main.c

gcc2 compile fix

------------------------------------------------------------------------
r594 | remi | 2005-06-08 17:58:38 +0200 (mer, 08 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/teredo-udp.cpp

Two fewer memset() calls

------------------------------------------------------------------------
r593 | remi | 2005-06-05 10:44:58 +0200 (dim, 05 jun 2005) | 3 lines
Chemins modifiés :
   M /trunk/src/privproc.cpp

Sets a biger metric for Miredo's default route, so that other IPv6
connectivity mediums will always be prioritized

------------------------------------------------------------------------
r592 | remi | 2005-06-05 10:37:29 +0200 (dim, 05 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/libtun6/ipv6-tunnel.h

Support for specifying a route metric

------------------------------------------------------------------------
r590 | remi | 2005-06-04 11:07:30 +0200 (sam, 04 jun 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/miredo.cpp

Undo buggy commit r589 on src/miredo.cpp

------------------------------------------------------------------------
r589 | remi | 2005-06-04 11:06:25 +0200 (sam, 04 jun 2005) | 3 lines
Chemins modifiés :
   M /trunk/TODO
   M /trunk/libteredo/relay.cpp
   M /trunk/src/miredo.cpp

- Use better ICMPv6 error messages
- Don't pass connectivity test response pakcets to user

------------------------------------------------------------------------
r588 | remi | 2005-05-30 13:02:16 +0200 (lun, 30 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/server.cpp

clean up

------------------------------------------------------------------------
r587 | remi | 2005-05-24 17:09:48 +0200 (mar, 24 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/privproc.cpp

#include fix

------------------------------------------------------------------------
r586 | remi | 2005-05-20 22:50:47 +0200 (ven, 20 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/configure.ac
   M /trunk/libtun6/ipv6-tunnel.cpp

Use strlcpy when available

------------------------------------------------------------------------
r585 | remi | 2005-05-10 12:49:56 +0200 (mar, 10 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/conf.cpp

stricmp => strcasecmp

------------------------------------------------------------------------
r584 | remi | 2005-05-08 12:17:51 +0200 (dim, 08 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/NEWS

Fix a typo

------------------------------------------------------------------------
r583 | remi | 2005-05-08 09:34:04 +0200 (dim, 08 mai 2005) | 3 lines
Chemins modifiés :
   M /trunk/src/main.c

Fix nasty PID file not unlinked bug when POSIX capabilities are used
and ${localstatedir}/run is not owned by root

------------------------------------------------------------------------
r582 | remi | 2005-05-08 08:36:13 +0200 (dim, 08 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/libtun6/ipv6-tunnel.h

Remove useless sanity check

------------------------------------------------------------------------
r581 | remi | 2005-05-07 22:46:07 +0200 (sam, 07 mai 2005) | 3 lines
Chemins modifiés :
   M /trunk/src/relay.cpp

Ensure IPv6 packets are at least 40 bytes-long before trying to tunnel
them through Teredo

------------------------------------------------------------------------
r580 | remi | 2005-05-07 22:43:17 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/relay.cpp

Don't check and copy IPv6 header in TeredoRelay::SendPacket

------------------------------------------------------------------------
r579 | remi | 2005-05-07 22:41:37 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/maintain.cpp

Fix use of unitialized value

------------------------------------------------------------------------
r578 | remi | 2005-05-07 21:46:12 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/TODO
   M /trunk/libteredo/maintain.cpp
   M /trunk/libteredo/relay.cpp

Some clean up

------------------------------------------------------------------------
r577 | remi | 2005-05-07 21:32:54 +0200 (sam, 07 mai 2005) | 3 lines
Chemins modifiés :
   M /trunk/NEWS
   M /trunk/libteredo/peerlist.cpp
   M /trunk/libteredo/peerlist.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/teredo.h

- Optimize peer list search
- Clean up peer list deletion

------------------------------------------------------------------------
r576 | remi | 2005-05-07 20:28:54 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/relay.h

Avoid pointer reference and dereference in TeredoRelay::GetPrefix

------------------------------------------------------------------------
r575 | remi | 2005-05-07 20:24:17 +0200 (sam, 07 mai 2005) | 3 lines
Chemins modifiés :
   M /trunk/libteredo/relay-udp.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

- fix unitialized value in relay setup,
- fasten TeredoRelay::GetServerIP()

------------------------------------------------------------------------
r574 | remi | 2005-05-07 20:05:48 +0200 (sam, 07 mai 2005) | 3 lines
Chemins modifiés :
   M /trunk/libteredo/maintain.cpp
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Don't use costly call to in6_is_teredo_addr_cone
in TeredoRelay::IsCone

------------------------------------------------------------------------
r573 | remi | 2005-05-07 18:12:40 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/relay-udp.cpp
   M /trunk/libteredo/relay-udp.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libteredo/server-udp.h
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h
   M /trunk/src/relay.cpp

Get rid of readset parameter where possible

------------------------------------------------------------------------
r572 | remi | 2005-05-07 17:41:37 +0200 (sam, 07 mai 2005) | 4 lines
Chemins modifiés :
   M /trunk/src/relay.cpp

More robust select()
It was causing a lot of problems whereby miredo would quit for no
reasons (particularly when debugging)

------------------------------------------------------------------------
r571 | remi | 2005-05-07 16:31:40 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/relay.cpp

Redo r566 in a non brain-dead manner

------------------------------------------------------------------------
r570 | remi | 2005-05-07 16:11:37 +0200 (sam, 07 mai 2005) | 3 lines
Chemins modifiés :
   M /trunk/src/relay.cpp

Undo severly buggy commit r566
(I still don't get what's wrong with it)

------------------------------------------------------------------------
r569 | remi | 2005-05-07 15:58:57 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/bootstrap

Unbreak bootstrap

------------------------------------------------------------------------
r568 | remi | 2005-05-07 15:20:02 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/relay.cpp

Clean up tunnel explicitly at end

------------------------------------------------------------------------
r567 | remi | 2005-05-07 15:10:54 +0200 (sam, 07 mai 2005) | 3 lines
Chemins modifiés :
   M /trunk/libteredo/teredo-udp.cpp

- Remove useless checks
- Remove useless memset

------------------------------------------------------------------------
r566 | remi | 2005-05-07 15:01:10 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/src/relay.cpp

Cache select's read set

------------------------------------------------------------------------
r565 | remi | 2005-05-07 14:55:39 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Don't use a reference since it's not needed

------------------------------------------------------------------------
r564 | remi | 2005-05-07 08:39:15 +0200 (sam, 07 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/src/main.c

Allow running as root if --enable-miredo-user=root was used

------------------------------------------------------------------------
r562 | remi | 2005-05-06 22:30:59 +0200 (ven, 06 mai 2005) | 4 lines
Chemins modifiés :
   M /trunk/src/miredo.cpp

Leave of POSIX capabilities even we unpriv_uid is 0.
It's still a bad idea, even without capabilities.
That's why it's still impossible without patching the program.

------------------------------------------------------------------------
r561 | remi | 2005-05-06 22:28:00 +0200 (ven, 06 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/NEWS
   M /trunk/src/main.c

Fix use of POSIX capabilities for miredo-server

------------------------------------------------------------------------
r560 | remi | 2005-05-06 19:04:59 +0200 (ven, 06 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/libteredo/Makefile.am
   A /trunk/libteredo/peerlist.cpp (de /trunk/libteredo/relay.cpp:559)
   A /trunk/libteredo/peerlist.h (de /trunk/libteredo/relay.cpp:559)
   M /trunk/libteredo/relay.cpp
   M /trunk/po/POTFILES.in

Another split : move TeredoRelay::peer in separate files

------------------------------------------------------------------------
r559 | remi | 2005-05-06 18:50:52 +0200 (ven, 06 mai 2005) | 3 lines
Chemins modifiés :
   M /trunk/libteredo/Makefile.am
   A /trunk/libteredo/maintain.cpp (de /trunk/libteredo/relay.cpp:558)
   M /trunk/libteredo/relay.cpp

Move qualification/maintainance away from relay.cpp
which was once again getting fairly long

------------------------------------------------------------------------
r558 | remi | 2005-05-06 17:31:45 +0200 (ven, 06 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/TODO
   M /trunk/configure.ac

Bump version number to 0.5.1

------------------------------------------------------------------------
r557 | remi | 2005-05-06 14:47:50 +0200 (ven, 06 mai 2005) | 2 lines
Chemins modifiés :
   M /trunk/ChangeLog

ChangeLog update for release 0.5.0

------------------------------------------------------------------------
r556 | remi | 2005-05-06 13:07:19 +0200 (ven, 06 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

String rationalization

------------------------------------------------------------------------
r555 | remi | 2005-05-06 13:02:58 +0200 (ven, 06 mai 2005) | 4 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/README
   M /trunk/TODO
   M /trunk/configure.ac

Change version to 0.5.0 as they were a lot of changes,
some of which break user interface
(most particularly the introduction of miredo-server)

------------------------------------------------------------------------
r554 | remi | 2005-05-06 12:56:55 +0200 (ven, 06 mai 2005) | 3 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

- fix race condition when calling NotifyUp()
- wait for 30 seconds rather than 300 upon initial connectivity loss

------------------------------------------------------------------------
r553 | remi | 2005-05-06 12:27:12 +0200 (ven, 06 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.cpp

Put all Teredo UDP sockets in non-blocking mode

------------------------------------------------------------------------
r552 | remi | 2005-05-06 12:21:12 +0200 (ven, 06 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/server.cpp

Ensure relaying of Echo requests is non-blocking

------------------------------------------------------------------------
r551 | remi | 2005-05-06 11:38:30 +0200 (ven, 06 mai 2005) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Regenerate server nonce every hour

------------------------------------------------------------------------
r550 | remi | 2005-05-06 11:01:23 +0200 (ven, 06 mai 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

- fix compilation with --disable-teredo-client
- use nanosleep() instead of select()

------------------------------------------------------------------------
r549 | remi | 2005-05-06 10:55:45 +0200 (ven, 06 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/misc/miredo.conf-dist

Add IgnoreConeBit to sample config

------------------------------------------------------------------------
r548 | remi | 2005-05-06 10:47:17 +0200 (ven, 06 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/relay.cpp

Add new option IgnoreConeBit

------------------------------------------------------------------------
r547 | remi | 2005-05-06 10:43:19 +0200 (ven, 06 mai 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Option to ignore cone bit
(ie. always treat peers as if they were restricted)

------------------------------------------------------------------------
r546 | remi | 2005-05-05 22:56:08 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

String rationalization

------------------------------------------------------------------------
r545 | remi | 2005-05-05 22:33:32 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

PO resync

------------------------------------------------------------------------
r544 | remi | 2005-05-05 21:56:06 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/main.c

Fix closing of pidfile

------------------------------------------------------------------------
r543 | remi | 2005-05-05 21:42:58 +0200 (jeu, 05 mai 2005) | 3 lines
Changed paths:
   M /trunk/src/prefix.h

completely remove ETCDIR/CONFDIR/SYSCONFDIR ...
at least until binreloc & autopackage are fixed

------------------------------------------------------------------------
r542 | remi | 2005-05-05 21:32:23 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/main.c
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

Fix compilation without binreloc

------------------------------------------------------------------------
r541 | remi | 2005-05-05 21:23:15 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp

BSD compile fix

------------------------------------------------------------------------
r540 | remi | 2005-05-05 21:12:20 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/src/main.c

Lock pidfile properly

------------------------------------------------------------------------
r539 | remi | 2005-05-05 19:19:20 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp

Fixes a bug whereby privileged process would never terminate

------------------------------------------------------------------------
r538 | remi | 2005-05-05 19:09:56 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/src/Makefile.am
   M /trunk/src/main.c
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

Add a command line option to modify pidfile path

------------------------------------------------------------------------
r537 | remi | 2005-05-05 18:42:26 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/src/server.cpp

Check IPv6 support before starting server

------------------------------------------------------------------------
r536 | remi | 2005-05-05 18:27:48 +0200 (jeu, 05 mai 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

failed server solicitation counter need not be accessed outside of
MaintenanceThread

------------------------------------------------------------------------
r535 | remi | 2005-05-05 17:26:30 +0200 (jeu, 05 mai 2005) | 5 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/relay.cpp

Rewrite qualification and maintenance
- now run in a dedicated thread
- fix connectivity loss detection (45(+30) seconds => 15(+30) seconds)
- suppress Process() callback

------------------------------------------------------------------------
r534 | remi | 2005-05-05 17:09:35 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp

miredo_configure_tunnel now wait until the configuration is actually applied

------------------------------------------------------------------------
r533 | remi | 2005-05-05 16:55:40 +0200 (jeu, 05 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp

Fix bug whereby privproc would attempt to delete address multiple times

------------------------------------------------------------------------
r532 | remi | 2005-05-04 21:15:29 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/security.cpp

make sure we don't leak memory content when nonce generation fails

------------------------------------------------------------------------
r531 | remi | 2005-05-04 18:20:11 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Hopefully fix linking with --disable-teredo-client

------------------------------------------------------------------------
r530 | remi | 2005-05-04 18:18:28 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Avoid duplication of code to send ping (Direct connectivity test)

------------------------------------------------------------------------
r529 | remi | 2005-05-04 13:49:55 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/README
   M /trunk/libteredo/Makefile.am
   M /trunk/libtun6/Makefile.am
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h

Update copyright notices as appropriate

------------------------------------------------------------------------
r528 | remi | 2005-05-04 13:43:41 +0200 (mer, 04 mai 2005) | 3 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

Yet another cleanup
(no more TODOs / FIXMEs in src/)

------------------------------------------------------------------------
r527 | remi | 2005-05-04 12:55:25 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/NEWS

Some news

------------------------------------------------------------------------
r526 | remi | 2005-05-04 12:38:06 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/autopackage/default.apspec.in

Kill miredo-server if found upon uninstallation

------------------------------------------------------------------------
r525 | remi | 2005-05-04 12:18:14 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/main.c
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

Don't link miredo-server with libtun6

------------------------------------------------------------------------
r524 | remi | 2005-05-04 12:05:47 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   A /trunk/misc/miredo-server.sh (from /trunk/misc/miredo.sh:523)

Debian initscript for miredo-server

------------------------------------------------------------------------
r523 | remi | 2005-05-04 12:02:17 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo

Some fixes. Still incomplete/buggy

------------------------------------------------------------------------
r522 | remi | 2005-05-04 11:55:37 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/doc/miredo-server.conf.5
   M /trunk/doc/miredo.conf.5

Document ServerAddress2 and ServerBindAddress2

------------------------------------------------------------------------
r521 | remi | 2005-05-04 11:50:53 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/doc/miredo-server.conf.5
   M /trunk/doc/miredo.conf.5

Document InterfaceMTU options

------------------------------------------------------------------------
r520 | remi | 2005-05-04 11:42:49 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   A /trunk/doc
   A /trunk/doc/miredo-server.8 (from /trunk/miredo-server.8:519)
   A /trunk/doc/miredo-server.conf.5 (from /trunk/miredo-server.conf.5:519)
   A /trunk/doc/miredo.8 (from /trunk/miredo.8:519)
   A /trunk/doc/miredo.conf.5 (from /trunk/miredo.conf.5:519)
   D /trunk/miredo-server.8
   D /trunk/miredo-server.conf.5
   D /trunk/miredo.8
   D /trunk/miredo.conf.5

Moved man page to a new directory

------------------------------------------------------------------------
r519 | remi | 2005-05-04 11:40:06 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Oops, forgot to remove include/Makefile from config.status

------------------------------------------------------------------------
r518 | remi | 2005-05-04 11:39:25 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/miredo.8

Notes about server_name command line parameter

------------------------------------------------------------------------
r517 | remi | 2005-05-04 11:38:11 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Include autopackage stuff in source tarball

------------------------------------------------------------------------
r516 | remi | 2005-05-04 11:36:42 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   D /trunk/include/Makefile.am

Exclude include/ from build

------------------------------------------------------------------------
r515 | remi | 2005-05-04 11:33:33 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/include/Makefile.am
   M /trunk/libteredo/queue.cpp
   M /trunk/libteredo/queue.h
   M /trunk/libteredo/security.cpp
   M /trunk/libteredo/security.h
   M /trunk/misc/Makefile.am

All $Id$ fixes

------------------------------------------------------------------------
r514 | remi | 2005-05-04 11:28:20 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h

Fix $Id$

------------------------------------------------------------------------
r513 | remi | 2005-05-04 11:27:10 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h
   M /trunk/src/relay.cpp

Compile ParseRelayType in miredo, not in miredo-server

------------------------------------------------------------------------
r512 | remi | 2005-05-04 10:49:32 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h
   M /trunk/src/relay.cpp

Removed obsoleted disabled RelayType

------------------------------------------------------------------------
r511 | remi | 2005-05-04 10:47:15 +0200 (mer, 04 mai 2005) | 3 lines
Changed paths:
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

Accept not having a config file if a server name is specified
through the command line (will use default for every thing else)

------------------------------------------------------------------------
r510 | remi | 2005-05-04 10:39:16 +0200 (mer, 04 mai 2005) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am
   M /trunk/src/main.c
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

- Use a different pidfile for miredo and miredo-server
- Replace --enable-pidfile with --enable-pidfiledir

------------------------------------------------------------------------
r509 | remi | 2005-05-04 09:40:38 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/miredo-server.8
   A /trunk/miredo-server.conf.5 (from /trunk/miredo.conf.5:508)
   M /trunk/miredo.conf.5

Split miredo-conf.5 into miredo.conf.5 and miredo-server.conf.5

------------------------------------------------------------------------
r508 | remi | 2005-05-04 09:31:52 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   A /trunk/miredo-server.8 (from /trunk/miredo.8:507)
   M /trunk/miredo.8

Split miredo.8 into miredo.8 and miredo-server.8

------------------------------------------------------------------------
r507 | remi | 2005-05-04 09:21:13 +0200 (mer, 04 mai 2005) | 2 lines
Changed paths:
   M /trunk/po/POTFILES.in
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

Translations update

------------------------------------------------------------------------
r506 | remi | 2005-05-04 09:20:51 +0200 (mer, 04 mai 2005) | 3 lines
Changed paths:
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h
   M /trunk/src/main.c
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

- clean up DNS resolution of server name
- use different default configuration files for miredo and miredo-server

------------------------------------------------------------------------
r505 | remi | 2005-05-04 08:59:19 +0200 (mer, 04 mai 2005) | 3 lines
Changed paths:
   M /trunk/src/main.c

use argv[0] in usage() and quick_usage()
so that running miredo-server prints miredo-server rather than miredo

------------------------------------------------------------------------
r504 | remi | 2005-05-03 22:39:55 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Remove obsoleted options --disable-teredo-server and --disable-teredo-relay

------------------------------------------------------------------------
r503 | remi | 2005-05-03 22:33:13 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/relay.cpp

Fix invalid delete in case of error

------------------------------------------------------------------------
r502 | remi | 2005-05-03 22:30:53 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/relay.cpp

Fix building with --disable-miredo-client

------------------------------------------------------------------------
r501 | remi | 2005-05-03 22:27:15 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

Fixes files descriptions

------------------------------------------------------------------------
r500 | remi | 2005-05-03 22:25:42 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp
   D /trunk/src/relay.h

src/relay.h was no longer needed

------------------------------------------------------------------------
r499 | remi | 2005-05-03 22:17:20 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/misc/Makefile.am
   A /trunk/misc/miredo-server.conf-dist (from /trunk/misc/miredo.conf-dist:498)
   M /trunk/misc/miredo.conf-dist

Split configuration sample files

------------------------------------------------------------------------
r498 | remi | 2005-05-03 22:12:30 +0200 (mar, 03 mai 2005) | 3 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

Move configuration parsing to non-common parts :
configuration for relay/client and server are now separated

------------------------------------------------------------------------
r497 | remi | 2005-05-03 21:23:45 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Remove signal handlers later

------------------------------------------------------------------------
r496 | remi | 2005-05-03 21:20:02 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

Some fixes

------------------------------------------------------------------------
r495 | remi | 2005-05-03 20:55:47 +0200 (mar, 03 mai 2005) | 4 lines
Changed paths:
   M /trunk/libteredo/Makefile.am
   M /trunk/libtun6/Makefile.am
   M /trunk/src
   M /trunk/src/Makefile.am
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   A /trunk/src/server.cpp (from /trunk/src/miredo.cpp:494)

Split Teredo server and Teredo relay/client in separate binaries

Still a lot of cleanup to be done

------------------------------------------------------------------------
r494 | remi | 2005-05-03 18:44:44 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/libtun6/Makefile.am
   M /trunk/src/Makefile.am
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

Don't include libtun6 if we only build a Teredo server

------------------------------------------------------------------------
r493 | remi | 2005-05-03 18:38:38 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Fix previous broken commit

------------------------------------------------------------------------
r492 | remi | 2005-05-03 18:25:16 +0200 (mar, 03 mai 2005) | 3 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/server.cpp
   D /trunk/src/server.cpp
   D /trunk/src/server.h

- Remove MiredoServer class's files
- Clean up

------------------------------------------------------------------------
r491 | remi | 2005-05-03 18:18:36 +0200 (mar, 03 mai 2005) | 5 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/src/Makefile.am
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h

Use raw IPv6 socket instead of tunnel to relay pings through Teredo server

That will allow the server to work properly even when IPv6 forwarding is
not enabled.

------------------------------------------------------------------------
r490 | remi | 2005-05-03 12:07:36 +0200 (mar, 03 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/misc/miredo.conf-dist
   M /trunk/src/miredo.cpp

(Dangerous) option to change Teredo MTU in relay and server

------------------------------------------------------------------------
r489 | remi | 2005-05-02 20:20:26 +0200 (lun, 02 mai 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo.conf-dist

Another public Teredo server added

------------------------------------------------------------------------
r488 | remi | 2005-05-02 20:19:33 +0200 (lun, 02 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp

Make valgrind happier

------------------------------------------------------------------------
r487 | remi | 2005-05-02 19:42:42 +0200 (lun, 02 mai 2005) | 6 lines
Changed paths:
   M /trunk/libteredo/packets.cpp

Accept ICMPv6 Echo Request encapsulated in ICMPv6 Unreachable
as an alternative to a ICMPv6 Echo Reply for Direct IPv6 connectivity

That allows spoof-safe connectivity with hosts that reject pings with
ICMPv6 Unreachable messages instead of replying.

------------------------------------------------------------------------
r486 | remi | 2005-05-02 19:13:23 +0200 (lun, 02 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Same as previous commit - the code is indeed duplicated

------------------------------------------------------------------------
r485 | remi | 2005-05-02 19:10:00 +0200 (lun, 02 mai 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Limit sending of echo request for Direct IPv6 connectivity test
to 3 every 30 seconds

------------------------------------------------------------------------
r484 | remi | 2005-05-02 17:19:43 +0200 (lun, 02 mai 2005) | 3 lines
Changed paths:
   M /trunk/TODO
   M /trunk/misc/miredo.conf-dist

- ng_teredo's server is no more
- adds Consulintel's server

------------------------------------------------------------------------
r476 | remi | 2005-05-02 09:50:32 +0200 (lun, 02 mai 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Skip release number 0.4.3 and use 0.4.4

------------------------------------------------------------------------
r475 | remi | 2005-05-02 09:48:34 +0200 (lun, 02 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO

One more TODO done

------------------------------------------------------------------------
r474 | remi | 2005-05-02 09:31:44 +0200 (lun, 02 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.cpp

Fix completely broken parsing of Router Advertisement option

------------------------------------------------------------------------
r473 | remi | 2005-05-02 09:17:50 +0200 (lun, 02 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Update NotifyUp callback to use mtu value

------------------------------------------------------------------------
r472 | remi | 2005-05-02 09:10:24 +0200 (lun, 02 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.h

Fix building with --disable-teredo-client

------------------------------------------------------------------------
r471 | remi | 2005-05-02 09:06:06 +0200 (lun, 02 mai 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/packets.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Parse MTU option in router advertisement
(and probably some breakage with --disable-teredo-client)

------------------------------------------------------------------------
r470 | remi | 2005-05-01 22:25:50 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/packets.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Actually implement ServerAddress2

------------------------------------------------------------------------
r469 | remi | 2005-05-01 21:53:14 +0200 (dim, 01 mai 2005) | 5 lines
Changed paths:
   M /trunk/misc/miredo.conf-dist
   M /trunk/src/miredo.cpp

New options ServerAddress2, resp. ServerBindAddress2 to specify the server
secondary address in client, resp. server
It should already work for server, it is not yet implemented in libteredo's
Teredo client

------------------------------------------------------------------------
r468 | remi | 2005-05-01 20:47:45 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO

More comprehensive TODO list

------------------------------------------------------------------------
r467 | remi | 2005-05-01 20:00:26 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Use DESTDIR when copying miredo.conf-dist to miredo.conf

------------------------------------------------------------------------
r466 | remi | 2005-05-01 19:59:04 +0200 (dim, 01 mai 2005) | 3 lines
Changed paths:
   M /trunk/src/Makefile.am

Add quotes as appropriate
(would probably previously fail if there was a space in DESTDIR)

------------------------------------------------------------------------
r465 | remi | 2005-05-01 19:52:46 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/miredo.8

Typos fixed

------------------------------------------------------------------------
r464 | remi | 2005-05-01 18:48:30 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h

Clean up teredo_send_ra

------------------------------------------------------------------------
r463 | remi | 2005-05-01 18:25:07 +0200 (dim, 01 mai 2005) | 3 lines
Changed paths:
   M /trunk/README

- Update to match new miredo.conf installation
- More spacing

------------------------------------------------------------------------
r462 | remi | 2005-05-01 18:05:48 +0200 (dim, 01 mai 2005) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/misc/Makefile.am

- Put message about miredo.conf at the very end of "make install"
- Automatically copy miredo.conf-dist to miredo.conf if miredo.conf
  doesn't already exists

------------------------------------------------------------------------
r461 | remi | 2005-05-01 15:23:36 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/src/miredo.cpp

Allow changing of server advertised MTU

------------------------------------------------------------------------
r460 | remi | 2005-05-01 14:56:11 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/libtun6/ipv6-tunnel.h
   M /trunk/src/privproc.cpp
   M /trunk/src/privproc.h
   M /trunk/src/relay.cpp

Copyright notice date updates

------------------------------------------------------------------------
r459 | remi | 2005-05-01 14:43:50 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/privproc.cpp

Clean up setting of MTU in client mode

------------------------------------------------------------------------
r458 | remi | 2005-05-01 14:43:08 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Log MTU change failure through syslog

------------------------------------------------------------------------
r457 | remi | 2005-05-01 14:29:41 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp
   M /trunk/src/privproc.h
   M /trunk/src/relay.cpp

Support for setting MTU from privileged process

------------------------------------------------------------------------
r456 | remi | 2005-05-01 13:54:02 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Send MTU option (testing)

------------------------------------------------------------------------
r455 | remi | 2005-05-01 13:46:25 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/TODO

Update TODO list

------------------------------------------------------------------------
r454 | remi | 2005-05-01 13:46:02 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/autopackage/default.apspec.in

One comment about libcap

------------------------------------------------------------------------
r453 | remi | 2005-05-01 13:45:41 +0200 (dim, 01 mai 2005) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.h

Add missing #include

------------------------------------------------------------------------
r452 | remi | 2005-04-30 18:26:35 +0200 (sam, 30 avr 2005) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   D /trunk/autopackage/Makefile.am
   M /trunk/configure.ac

Remove autopackage directory from source tarball :
it's not supposed/meant to be used by external packagers/users
(and it's still available through SVN anyway)

------------------------------------------------------------------------
r451 | remi | 2005-04-30 18:19:03 +0200 (sam, 30 avr 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

autopackage/default.apsec needn't be generated automatically by configure

------------------------------------------------------------------------
r450 | remi | 2005-04-30 14:16:18 +0200 (sam, 30 avr 2005) | 3 lines
Changed paths:
   M /trunk/autopackage/default.apspec.in

apbuild spec that works (if installed as root only)
There's still several shortcomings in autopackage to be addressed first

------------------------------------------------------------------------
r449 | remi | 2005-04-30 12:06:20 +0200 (sam, 30 avr 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Clean up

------------------------------------------------------------------------
r448 | remi | 2005-04-30 11:59:07 +0200 (sam, 30 avr 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo
   M /trunk/misc/miredo.conf-dist
   M /trunk/misc/miredo.sh

Add/fix $Id$

------------------------------------------------------------------------
r447 | remi | 2005-04-30 11:44:52 +0200 (sam, 30 avr 2005) | 2 lines
Changed paths:
   M /trunk/m4/binreloc.m4
   M /trunk/src/Makefile.am
   M /trunk/src/main.c
   M /trunk/src/prefix.h

Don't let BinReloc handle SYSCONFDIR (it is inconsistent with autopackage)

------------------------------------------------------------------------
r446 | remi | 2005-04-30 11:43:55 +0200 (sam, 30 avr 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo.conf-dist

Fix defaults value documentation for InterfaceName

------------------------------------------------------------------------
r445 | remi | 2005-04-29 23:06:43 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk
   M /trunk/Makefile.am
   A /trunk/autopackage
   A /trunk/autopackage/Makefile.am
   A /trunk/autopackage/default.apspec.in
   M /trunk/configure.ac

Initial autopackage package build support

------------------------------------------------------------------------
r444 | remi | 2005-04-29 19:46:26 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk/m4/Makefile.am
   M /trunk/src/Makefile.am

Fix copyright notices

------------------------------------------------------------------------
r443 | remi | 2005-04-29 19:42:17 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk/m4/Makefile.am

- add m4/binreloc.m4 to EXTRA_DIST

------------------------------------------------------------------------
r442 | remi | 2005-04-29 19:28:00 +0200 (ven, 29 avr 2005) | 4 lines
Changed paths:
   M /trunk/configure.ac
   A /trunk/m4/binreloc.m4
   M /trunk/src/Makefile.am
   M /trunk/src/main.c
   A /trunk/src/prefix.c
   A /trunk/src/prefix.h

Use of BinReloc from AutoPackage project
(with modifications to binreloc.m4 not to check for pthread,
since we don't need it)

------------------------------------------------------------------------
r441 | remi | 2005-04-29 19:02:34 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

Cleanup creation/deletion of pidfile/chroot directory

------------------------------------------------------------------------
r440 | remi | 2005-04-29 18:12:43 +0200 (ven, 29 avr 2005) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am
   M /trunk/src/main.c

Get rid of built source src/host.h
/ Use a much simpler alternative from configure.ac

------------------------------------------------------------------------
r439 | remi | 2005-04-29 18:01:25 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Fix a typo

------------------------------------------------------------------------
r438 | remi | 2005-04-29 17:54:54 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/main.c

Bring back host and build architecture in version infos

------------------------------------------------------------------------
r437 | remi | 2005-04-29 15:56:41 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Bump version number to 0.4.3

------------------------------------------------------------------------
r435 | remi | 2005-04-29 11:51:06 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk/ChangeLog

ChangeLog update for release 0.4.2

------------------------------------------------------------------------
r434 | remi | 2005-04-29 11:49:06 +0200 (ven, 29 avr 2005) | 3 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

- News for release 0.4.2
- Resync pot files

------------------------------------------------------------------------
r433 | remi | 2005-04-29 11:48:40 +0200 (ven, 29 avr 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

More strict release checks

------------------------------------------------------------------------
r432 | remi | 2005-04-29 11:28:16 +0200 (ven, 29 avr 2005) | 4 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Remove hard-coded access-list that prevented reply bubbles from restricted
clients from being processed by the relay/client, effectively denying
connectivity toward restricted clients.

------------------------------------------------------------------------
r431 | remi | 2005-04-28 20:42:02 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot
   M /trunk/src/main.c

Translations updates

------------------------------------------------------------------------
r430 | remi | 2005-04-28 20:37:08 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/configure.ac

Bump version number

------------------------------------------------------------------------
r429 | remi | 2005-04-28 20:35:49 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/miredo.8
   M /trunk/miredo.conf.5

command line syntax changed => update doc

------------------------------------------------------------------------
r428 | remi | 2005-04-28 20:32:32 +0200 (jeu, 28 avr 2005) | 3 lines
Changed paths:
   M /trunk/TODO
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h

Support for overriding the configuration file's ServerAddress from the
command line

------------------------------------------------------------------------
r427 | remi | 2005-04-28 17:57:12 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/TODO

More ToDos

------------------------------------------------------------------------
r426 | remi | 2005-04-28 16:55:51 +0200 (jeu, 28 avr 2005) | 5 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

- Bring back connectivity loss detection with a much better algorithm
(no longer fail on the very first unreplied server solicitation);
could still be improved a bit
- some clean up

------------------------------------------------------------------------
r425 | remi | 2005-04-28 15:55:47 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Fix possible signedness problem with TeredoRelay::peer::IsExpired

------------------------------------------------------------------------
r424 | remi | 2005-04-28 15:43:08 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Don't call TeredoRelay::Process when client support is not compiled-in

------------------------------------------------------------------------
r423 | remi | 2005-04-28 15:40:51 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Fix server address check

------------------------------------------------------------------------
r422 | remi | 2005-04-28 15:40:35 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/TODO

Remove done TODO from list

------------------------------------------------------------------------
r421 | remi | 2005-04-28 15:19:38 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Completely ignore server packets that fails authentication check

------------------------------------------------------------------------
r420 | remi | 2005-04-28 14:36:45 +0200 (jeu, 28 avr 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Clean up / avoid some code duplication

------------------------------------------------------------------------
r419 | remi | 2005-04-28 14:30:07 +0200 (jeu, 28 avr 2005) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Further clean up...
made TeredoRelay::peer a class

------------------------------------------------------------------------
r418 | remi | 2005-04-28 13:47:33 +0200 (jeu, 28 avr 2005) | 4 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

- use struct timeval instead of time_t to determine peer expiry
- break one bubble per 2 seconds limit
- clean up use of last_rx and last_xmit

------------------------------------------------------------------------
r417 | remi | 2005-04-25 18:33:25 +0200 (lun, 25 avr 2005) | 2 lines
Changed paths:
   M /trunk/m4

Update for newer autotools

------------------------------------------------------------------------
r413 | remi | 2005-03-20 16:37:25 +0100 (dim, 20 mar 2005) | 2 lines
Changed paths:
   M /trunk
   A /trunk/COPYING

Include license in SVN trunk

------------------------------------------------------------------------
r411 | remi | 2005-03-17 20:16:20 +0100 (jeu, 17 mar 2005) | 2 lines
Changed paths:
   M /trunk/ChangeLog

ChangeLog 0.4.1 update

------------------------------------------------------------------------
r410 | remi | 2005-03-17 20:14:31 +0100 (jeu, 17 mar 2005) | 2 lines

Update French translation

------------------------------------------------------------------------
r409 | remi | 2005-03-17 20:11:53 +0100 (jeu, 17 mar 2005) | 2 lines

Updated NEWS for release 0.4.1

------------------------------------------------------------------------
r408 | remi | 2005-03-17 20:10:21 +0100 (jeu, 17 mar 2005) | 2 lines

Better decsription of default value for ServerAddress

------------------------------------------------------------------------
r407 | remi | 2005-03-17 20:09:54 +0100 (jeu, 17 mar 2005) | 5 lines

- Fail cleanly when no server specified in client mode,
- Do not display unhandled conf directives in case of conf syntax error
- Use LOG_PERROR option so that error are displayed on screen when run in
  foreground

------------------------------------------------------------------------
r406 | remi | 2005-03-17 20:08:16 +0100 (jeu, 17 mar 2005) | 2 lines

Allow not to display superfluous conf directives

------------------------------------------------------------------------
r405 | remi | 2005-03-16 13:55:38 +0100 (mer, 16 mar 2005) | 3 lines

Do not check relay status when in disabled mode.
Miredo wouldn't otherwise run in disabled mode (ie server-only)

------------------------------------------------------------------------
r404 | remi | 2005-03-13 14:35:25 +0100 (dim, 13 mar 2005) | 2 lines

More comments in sample config

------------------------------------------------------------------------
r403 | remi | 2005-03-12 13:48:25 +0100 (sam, 12 mar 2005) | 2 lines

A few more

------------------------------------------------------------------------
r402 | remi | 2005-03-12 13:45:19 +0100 (sam, 12 mar 2005) | 2 lines

Updates svn:ignore

------------------------------------------------------------------------
r401 | remi | 2005-02-15 15:43:55 +0100 (mar, 15 fév 2005) | 2 lines

Updated todo list

------------------------------------------------------------------------
r400 | remi | 2005-02-12 10:23:59 +0100 (sam, 12 fév 2005) | 6 lines

- Do not reset the link-local address unless it really changes :
  should work around kernel bug http://bugme.osdl.org/show_bug.cgi?id=3973
- Do not bring the tunnel up & down when the connectivity is lost :
  simply remove the addresses (could be annoying for programs that watch
  interface state or dump traffic)

------------------------------------------------------------------------
r399 | remi | 2005-02-08 23:21:43 +0100 (mar, 08 fév 2005) | 2 lines

Fix inconsistencies about the command line syntax

------------------------------------------------------------------------
r398 | remi | 2005-01-23 23:17:28 +0100 (dim, 23 jan 2005) | 2 lines

Cleanup : struct miredo_conf

------------------------------------------------------------------------
r397 | remi | 2005-01-23 21:05:50 +0100 (dim, 23 jan 2005) | 2 lines

Removed useless global variable

------------------------------------------------------------------------
r396 | remi | 2005-01-22 22:22:52 +0100 (sam, 22 jan 2005) | 2 lines

Removed check for null server addresses that is now part of v4global.c

------------------------------------------------------------------------
r395 | remi | 2005-01-22 22:02:43 +0100 (sam, 22 jan 2005) | 2 lines

Some more comments

------------------------------------------------------------------------
r394 | remi | 2005-01-22 22:02:20 +0100 (sam, 22 jan 2005) | 2 lines

Updates global IPv4 access list, which is given explicitly in draft 04

------------------------------------------------------------------------
r393 | remi | 2005-01-22 19:24:13 +0100 (sam, 22 jan 2005) | 2 lines

Fixes comment about RelayType. Bug reported by Shai

------------------------------------------------------------------------
r392 | remi | 2005-01-14 23:16:15 +0100 (ven, 14 jan 2005) | 3 lines

Chroot after networks settings/privsep initialisation
(grsecurity wants this)

------------------------------------------------------------------------
r391 | remi | 2005-01-14 23:15:25 +0100 (ven, 14 jan 2005) | 2 lines

Increment version number

------------------------------------------------------------------------
r388 | remi | 2005-01-08 15:57:18 +0100 (sam, 08 jan 2005) | 2 lines

Fixed manual page title

------------------------------------------------------------------------
r387 | remi | 2005-01-08 01:26:19 +0100 (sam, 08 jan 2005) | 2 lines

Prepare 0.4.0 release

------------------------------------------------------------------------
r386 | remi | 2005-01-08 01:13:55 +0100 (sam, 08 jan 2005) | 2 lines

PO files updates

------------------------------------------------------------------------
r385 | remi | 2005-01-07 17:35:48 +0100 (ven, 07 jan 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h
   M /trunk/src/miredo.cpp

Fixes for some mem leaks, incorrect syslog messages and segfault on reload in configuration file handling.

------------------------------------------------------------------------
r384 | remi | 2005-01-07 16:04:28 +0100 (ven, 07 jan 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

BSD compile fixes

------------------------------------------------------------------------
r383 | remi | 2005-01-07 13:45:49 +0100 (ven, 07 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/conf.cpp

BSD compile fix

------------------------------------------------------------------------
r382 | remi | 2005-01-07 13:39:07 +0100 (ven, 07 jan 2005) | 5 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/miredo.conf.5
   M /trunk/misc/miredo.conf-dist
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h
   M /trunk/src/miredo.cpp

- SyslogFacility directive implementation
- bump version number to 0.4.0 since the program "interface" is
  completely incompatible with that of the previous versions
  (there will be no 0.3.3)

------------------------------------------------------------------------
r381 | remi | 2005-01-06 11:16:43 +0100 (jeu, 06 jan 2005) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/miredo.8
   M /trunk/misc/Makefile.am
   M /trunk/src/Makefile.am
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

- Fixes path to the chroot directory and the pidfile.
- Disable fairly useless option to change pidfile at run-time.
- Fixes bug when -t option was used while it does no longer exists.

------------------------------------------------------------------------
r380 | remi | 2005-01-06 10:06:52 +0100 (jeu, 06 jan 2005) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/README

Changed docs for new chroot system

------------------------------------------------------------------------
r379 | remi | 2005-01-05 23:10:55 +0100 (mer, 05 jan 2005) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

PO updates

------------------------------------------------------------------------
r378 | remi | 2005-01-05 23:03:24 +0100 (mer, 05 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/main.c

Check chroot directory before running

------------------------------------------------------------------------
r377 | remi | 2005-01-05 22:12:34 +0100 (mer, 05 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/privproc.cpp
   M /trunk/src/privproc.h

Simply privsep (similarly as previous commit)

------------------------------------------------------------------------
r376 | remi | 2005-01-05 22:04:44 +0100 (mer, 05 jan 2005) | 3 lines
Changed paths:
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

Doing initialization as root is much simpler, and might actually be
safer (e.g; can't receive signal from unprivileged user's processes)

------------------------------------------------------------------------
r375 | remi | 2005-01-05 19:00:19 +0100 (mer, 05 jan 2005) | 3 lines
Changed paths:
   M /trunk/src/main.c

- Check if miredo.conf is readable before daemon(),
- Some cleanup

------------------------------------------------------------------------
r374 | remi | 2005-01-05 18:19:38 +0100 (mer, 05 jan 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp
   M /trunk/src/miredo.cpp

Minor signal handling security improvement

------------------------------------------------------------------------
r373 | remi | 2005-01-05 16:05:00 +0100 (mer, 05 jan 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo
   M /trunk/misc/miredo.sh

Updates for sample init scripts

------------------------------------------------------------------------
r372 | remi | 2005-01-04 23:27:07 +0100 (mar, 04 jan 2005) | 3 lines
Changed paths:
   M /trunk/miredo.8
   M /trunk/src/main.c

Remove very hard to setup "early" chroot feature, obsoleted by late
chroot feature

------------------------------------------------------------------------
r371 | remi | 2005-01-04 22:52:37 +0100 (mar, 04 jan 2005) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/libteredo/security.cpp
   M /trunk/libteredo/security.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

Easy late chroot (path configurable with --enable-chroot configure option)

------------------------------------------------------------------------
r370 | remi | 2005-01-04 15:04:39 +0100 (mar, 04 jan 2005) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Change syslog message severity

------------------------------------------------------------------------
r369 | remi | 2005-01-04 13:35:38 +0100 (mar, 04 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Fixes infinite loop when processing SIGHUP

------------------------------------------------------------------------
r368 | remi | 2005-01-04 00:54:24 +0100 (mar, 04 jan 2005) | 3 lines
Changed paths:
   M /trunk/Makefile.am

Fixes bug where miredo.conf.5 was installed as "man 8 miredo.conf"
instead of "man 5 miredo.conf"

------------------------------------------------------------------------
r367 | remi | 2005-01-04 00:52:33 +0100 (mar, 04 jan 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo.conf-dist
   M /trunk/src/miredo.cpp
   M /trunk/src/privproc.cpp
   M /trunk/src/privproc.h

DefaultRoute boolean directive implementation

------------------------------------------------------------------------
r366 | remi | 2005-01-04 00:42:16 +0100 (mar, 04 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h

Support for parsing boolean directives

------------------------------------------------------------------------
r365 | remi | 2005-01-02 21:49:54 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo.conf-dist

Comment about client mode

------------------------------------------------------------------------
r364 | remi | 2005-01-02 21:46:49 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/main.c

Fix bogus duplicate option error

------------------------------------------------------------------------
r363 | remi | 2005-01-02 21:20:24 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/README

Note about configuration file and chroot

------------------------------------------------------------------------
r362 | remi | 2005-01-02 21:15:57 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/NEWS

Updated NEWS

------------------------------------------------------------------------
r361 | remi | 2005-01-02 21:10:37 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Fix memory leak

------------------------------------------------------------------------
r360 | remi | 2005-01-02 21:02:19 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/README

Updated README

------------------------------------------------------------------------
r359 | remi | 2005-01-02 20:43:57 +0100 (dim, 02 jan 2005) | 3 lines
Changed paths:
   M /trunk/misc/Makefile.am
   D /trunk/misc/miredo.conf
   A /trunk/misc/miredo.conf-dist (from /trunk/misc/miredo.conf:358)

Rename the sample conf file so that it does not override local older
customized configuration file

------------------------------------------------------------------------
r358 | remi | 2005-01-02 20:42:54 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo.conf

Update sample conf file

------------------------------------------------------------------------
r357 | remi | 2005-01-02 20:39:17 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/conf.cpp
   M /trunk/src/conf.h
   M /trunk/src/miredo.cpp

Implement RelayType as documented in miredo.conf.5

------------------------------------------------------------------------
r356 | remi | 2005-01-02 14:48:20 +0100 (dim, 02 jan 2005) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

French translation update

------------------------------------------------------------------------
r355 | remi | 2005-01-02 14:45:31 +0100 (dim, 02 jan 2005) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/miredo.conf.5

miredo.conf reference
(does not match current implementation)

------------------------------------------------------------------------
r354 | remi | 2005-01-01 22:10:54 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/miredo.conf.5

Partial miredo.conf manpage (to be completed)

------------------------------------------------------------------------
r353 | remi | 2005-01-01 22:04:43 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/miredo.8
   A /trunk/miredo.conf.5 (from /trunk/miredo.8:336)

Updates miredo.8 man page with new syntax

------------------------------------------------------------------------
r352 | remi | 2005-01-01 21:27:50 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/main.c

Cleanup

------------------------------------------------------------------------
r351 | remi | 2005-01-01 13:51:52 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/TODO

Updates TODO list

------------------------------------------------------------------------
r350 | remi | 2005-01-01 13:50:26 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/misc/miredo.conf
   M /trunk/src/miredo.cpp

Gets interface & Teredo prefix from config file

------------------------------------------------------------------------
r349 | remi | 2005-01-01 12:08:35 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am
   M /trunk/src/main.c

New (much simpler) command line syntax for use with conf file

------------------------------------------------------------------------
r348 | remi | 2005-01-01 01:27:14 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot
   M /trunk/src/conf.cpp

PO updates

------------------------------------------------------------------------
r347 | remi | 2005-01-01 01:21:55 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Fixed syslog messages

------------------------------------------------------------------------
r346 | remi | 2005-01-01 01:18:16 +0100 (sam, 01 jan 2005) | 3 lines
Changed paths:
   M /trunk/src/miredo.cpp

- fix BindPort byte order
- clean up main process termination & reload

------------------------------------------------------------------------
r345 | remi | 2005-01-01 00:50:42 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Fix parameters ordering in call to miredo_run()

------------------------------------------------------------------------
r344 | remi | 2005-01-01 00:45:38 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Do not create a relay when running server only

------------------------------------------------------------------------
r343 | remi | 2005-01-01 00:44:14 +0100 (sam, 01 jan 2005) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Do not export a route to Teredo when running a server without relay

------------------------------------------------------------------------
r342 | remi | 2005-01-01 00:41:43 +0100 (sam, 01 jan 2005) | 3 lines
Changed paths:
   M /trunk/src/conf.cpp

- Removed debug messages
- Ignore "empty" comment lines

------------------------------------------------------------------------
r341 | remi | 2005-01-01 00:39:12 +0100 (sam, 01 jan 2005) | 3 lines
Changed paths:
   M /trunk/misc/miredo.conf
   M /trunk/po/POTFILES.in
   M /trunk/src/Makefile.am
   A /trunk/src/conf.cpp
   A /trunk/src/conf.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h

Configuration file parsing
(many regressions to be fixed later -- hardly useable revision)

------------------------------------------------------------------------
r340 | remi | 2004-12-31 14:28:42 +0100 (ven, 31 déc 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Typos in comments

------------------------------------------------------------------------
r339 | remi | 2004-12-31 14:10:45 +0100 (ven, 31 déc 2004) | 2 lines
Changed paths:
   M /trunk/README

Do no longer requires /var/run/miredo directory

------------------------------------------------------------------------
r338 | remi | 2004-12-31 14:09:52 +0100 (ven, 31 déc 2004) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/main.c

- Create pid file in /var/run instead of /var/run/miredo
- Get root to remove pid file before exit

------------------------------------------------------------------------
r337 | remi | 2004-12-31 14:05:00 +0100 (ven, 31 déc 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Create pid file as root

------------------------------------------------------------------------
r336 | remi | 2004-12-31 13:41:06 +0100 (ven, 31 déc 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Fixed comment

------------------------------------------------------------------------
r335 | remi | 2004-12-31 13:39:29 +0100 (ven, 31 déc 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Safe pid file creation

------------------------------------------------------------------------
r334 | remi | 2004-12-30 16:57:52 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/po/POTFILES.in
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

POTFILES update

------------------------------------------------------------------------
r333 | remi | 2004-12-30 16:55:03 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

FreeBSD compile fix

------------------------------------------------------------------------
r332 | remi | 2004-12-30 16:50:30 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.h
   M /trunk/libteredo/relay-udp.h
   M /trunk/libteredo/relay.h

#include headers cleanup

------------------------------------------------------------------------
r331 | remi | 2004-12-30 16:42:33 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/Makefile.am
   M /trunk/libteredo/packets.cpp
   A /trunk/libteredo/relay-udp.cpp (from /trunk/libteredo/teredo-udp.cpp:330)
   A /trunk/libteredo/relay-udp.h (from /trunk/libteredo/teredo-udp.h:330)
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Another code split

------------------------------------------------------------------------
r330 | remi | 2004-12-30 16:33:00 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/Makefile.am
   A /trunk/libteredo/server-udp.cpp (from /trunk/libteredo/teredo-udp.cpp:329)
   A /trunk/libteredo/server-udp.h (from /trunk/libteredo/teredo-udp.h:329)
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Code split

------------------------------------------------------------------------
r329 | remi | 2004-12-30 16:17:52 +0100 (jeu, 30 déc 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Cleanup to prepare separation of Teredo(Relay|Client|Server)UDP
out of teredo-udp.*

------------------------------------------------------------------------
r328 | remi | 2004-12-30 15:58:18 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

TeredoClientUDP / Multicast socket support

------------------------------------------------------------------------
r327 | remi | 2004-12-30 15:48:18 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.h

Add symbolic constants for Teredo Discovery multicast address

------------------------------------------------------------------------
r326 | remi | 2004-12-30 14:43:47 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Common Receive...() code factorization

------------------------------------------------------------------------
r325 | remi | 2004-12-30 14:35:05 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h
   M /trunk/src/miredo.cpp

Processes packets from server's secondary IP address even if the primary IP sockets is permanently busy

------------------------------------------------------------------------
r324 | remi | 2004-12-30 14:22:45 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Cleanup server processing rules

------------------------------------------------------------------------
r323 | remi | 2004-12-30 13:37:35 +0100 (jeu, 30 déc 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

- Better error handling in TeredoServerUDP::ListenIP
- Fixed thread-safety issue with use_secondary_ip in TeredoServer

------------------------------------------------------------------------
r322 | remi | 2004-12-30 13:08:38 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Thread-safety fixes

------------------------------------------------------------------------
r321 | remi | 2004-12-30 12:06:18 +0100 (jeu, 30 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/queue.h

Packet::unsafe_Trash made static

------------------------------------------------------------------------
r320 | remi | 2004-12-29 17:28:58 +0100 (mer, 29 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.cpp

Set Multicast TTL to 1

------------------------------------------------------------------------
r319 | remi | 2004-12-29 11:41:10 +0100 (mer, 29 déc 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Minimalistic source IPv6 address checks on received packets
(drop link-local packets for security's sake)

------------------------------------------------------------------------
r318 | remi | 2004-12-29 10:12:26 +0100 (mer, 29 déc 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Handle error case properly

------------------------------------------------------------------------
r317 | remi | 2004-12-28 21:35:12 +0100 (mar, 28 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Same as previous commit - for server stuff

------------------------------------------------------------------------
r316 | remi | 2004-12-28 21:19:24 +0100 (mar, 28 déc 2004) | 6 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Got rid of the big full IPv6 packet memcpy()
on the UDP socket side.

(We had already gotten rid of the other memcpy in IPv6Tunnel with the help of
writev()/readv(). There is no longer any memcpy of a entire packet)

------------------------------------------------------------------------
r315 | remi | 2004-12-28 20:44:08 +0100 (mar, 28 déc 2004) | 2 lines
Changed paths:
   M /trunk/THANKS

Update

------------------------------------------------------------------------
r314 | remi | 2004-12-25 17:33:16 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

Update PO files

------------------------------------------------------------------------
r313 | remi | 2004-12-25 17:27:01 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/misc/miredo.sh

Fix Debian-style initscript

------------------------------------------------------------------------
r312 | remi | 2004-12-25 17:21:32 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/Makefile.am
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/relay.cpp
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Option for not compiling Teredo client support

------------------------------------------------------------------------
r311 | remi | 2004-12-25 17:04:18 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/Makefile.am
   M /trunk/src/Makefile.am
   M /trunk/src/miredo.cpp

Support for not compiling relay/client support

------------------------------------------------------------------------
r310 | remi | 2004-12-25 16:54:45 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

Options (unhandled) to disable relay/client or only client

------------------------------------------------------------------------
r309 | remi | 2004-12-25 16:29:55 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

- Fix and cleanup Autoconf/M4 quoting

------------------------------------------------------------------------
r308 | remi | 2004-12-25 15:09:29 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Removed unused variable

------------------------------------------------------------------------
r307 | remi | 2004-12-25 15:08:43 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Fix race condition in the select() call with signal handlers.

------------------------------------------------------------------------
r306 | remi | 2004-12-25 14:47:22 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/relay.cpp

--disable-teredo-client is a TODO

------------------------------------------------------------------------
r305 | remi | 2004-12-25 14:27:35 +0100 (sam, 25 déc 2004) | 3 lines
Changed paths:
   M /trunk/src/privproc.cpp

Avoid warning from GCC
(GCC is wrong though)

------------------------------------------------------------------------
r304 | remi | 2004-12-25 14:19:10 +0100 (sam, 25 déc 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/libteredo/Makefile.am
   M /trunk/src/Makefile.am
   M /trunk/src/miredo.cpp

--disable-teredo-server option to not compile Teredo server support

------------------------------------------------------------------------
r303 | remi | 2004-12-24 15:36:24 +0100 (ven, 24 déc 2004) | 2 lines
Changed paths:
   M /trunk/misc/Makefile.am
   A /trunk/misc/miredo.conf

Default Miredo config file (unused yet)

------------------------------------------------------------------------
r302 | remi | 2004-12-22 09:58:17 +0100 (mer, 22 déc 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

- Fixed typo in comment

------------------------------------------------------------------------
r301 | remi | 2004-12-22 09:58:08 +0100 (mer, 22 déc 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

Remerge PO files

------------------------------------------------------------------------
r300 | remi | 2004-12-22 09:57:55 +0100 (mer, 22 déc 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

- update version to future 0.3.3

------------------------------------------------------------------------
r298 | remi | 2004-12-17 17:11:24 +0100 (ven, 17 déc 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog

- ChangeLog for 0.3.2 release

------------------------------------------------------------------------
r297 | remi | 2004-12-17 17:09:53 +0100 (Fri, 17 Dec 2004) | 2 lines
Changed paths:
   M /trunk/NEWS

Fill NEWS for 0.3.2

------------------------------------------------------------------------
r296 | remi | 2004-12-17 17:01:50 +0100 (Fri, 17 Dec 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

Check for library providing POSIX threads

------------------------------------------------------------------------
r295 | remi | 2004-12-13 00:29:38 +0100 (Mon, 13 Dec 2004) | 2 lines
Changed paths:
   M /trunk/NEWS

First news for 0.3.2

------------------------------------------------------------------------
r294 | remi | 2004-12-12 17:59:00 +0100 (Sun, 12 Dec 2004) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/main.c

Configure-time option to change the default pidfile path
or disable the pidfile by default

------------------------------------------------------------------------
r293 | remi | 2004-12-06 14:01:30 +0100 (Mon, 06 Dec 2004) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/miredo.8

Update to Teredo Internet draft 03

------------------------------------------------------------------------
r292 | remi | 2004-12-05 10:38:37 +0100 (Sun, 05 Dec 2004) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

Fix libintl linkage on non-GNU platforms

------------------------------------------------------------------------
r291 | remi | 2004-12-05 10:32:06 +0100 (Sun, 05 Dec 2004) | 3 lines
Changed paths:
   M /trunk/src/Makefile.am

Link with -lpthread explictly
=> fix FreeBSD linker error

------------------------------------------------------------------------
r290 | remi | 2004-12-04 10:51:34 +0100 (Sat, 04 Dec 2004) | 4 lines
Changed paths:
   M /trunk/libteredo/relay.h

Really fix access control for nested classes
(I used a feature of C++ which is not even standard yet)
Will work with G++2.95

------------------------------------------------------------------------
r289 | remi | 2004-12-03 22:54:44 +0100 (Fri, 03 Dec 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

Updated PO files

------------------------------------------------------------------------
r288 | remi | 2004-12-03 22:51:41 +0100 (Fri, 03 Dec 2004) | 2 lines
Changed paths:
   M /trunk/README

Update security informations with the new nobody UID stuff

------------------------------------------------------------------------
r287 | remi | 2004-12-03 22:44:51 +0100 (Fri, 03 Dec 2004) | 3 lines
Changed paths:
   M /trunk/src/main.c

Setuid to nobody by default instead of keeping root.
Portable, easy for user, far more secure and more simple for me.

------------------------------------------------------------------------
r286 | remi | 2004-12-03 17:13:19 +0100 (Fri, 03 Dec 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.h

Fixed TeredoRelay::SendIPv6Packet access qualifier from private to protected
=> fixes a FreeBSD compile error

------------------------------------------------------------------------
r285 | remi | 2004-12-03 15:47:31 +0100 (Fri, 03 Dec 2004) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/configure.ac

Bump version number

------------------------------------------------------------------------
r284 | remi | 2004-12-02 21:43:15 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libtun6/ipv6-tunnel.cpp

Cleanup for security scanners

------------------------------------------------------------------------
r282 | remi | 2004-12-02 21:11:48 +0100 (Thu, 02 Dec 2004) | 1 line
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp


------------------------------------------------------------------------
r281 | remi | 2004-12-02 16:08:40 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

Resync with source

------------------------------------------------------------------------
r280 | remi | 2004-12-02 16:07:35 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   A /trunk/misc/Makefile.am

Added misc directory to tarball

------------------------------------------------------------------------
r279 | remi | 2004-12-02 16:00:26 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Updated for release 0.3.1

------------------------------------------------------------------------
r278 | remi | 2004-12-02 15:55:56 +0100 (Thu, 02 Dec 2004) | 3 lines
Changed paths:
   M /trunk/README

- Teredo is built-in XP SP2's IPv6 stack,
- Linux 2.4 does not work fine with IPv6

------------------------------------------------------------------------
r277 | remi | 2004-12-02 15:40:13 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/README

Instructions on /var/run/miredo

------------------------------------------------------------------------
r276 | remi | 2004-12-02 15:34:10 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   A /trunk/misc
   A /trunk/misc/miredo
   A /trunk/misc/miredo.sh

Sample init scripts

------------------------------------------------------------------------
r275 | remi | 2004-12-02 15:28:35 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

cast uid_t to int rather than unsigned

------------------------------------------------------------------------
r274 | remi | 2004-12-02 15:13:33 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Added TODO : ability to change pid file location

------------------------------------------------------------------------
r273 | remi | 2004-12-02 15:13:14 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/NEWS

- PID file doc

------------------------------------------------------------------------
r272 | remi | 2004-12-02 15:09:26 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/TODO

Updated TODO

------------------------------------------------------------------------
r271 | remi | 2004-12-02 15:08:56 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/miredo.8

Remove a documented bug that has long since been fixed (not chrooting)

------------------------------------------------------------------------
r270 | remi | 2004-12-02 15:07:07 +0100 (Thu, 02 Dec 2004) | 3 lines
Changed paths:
   M /trunk/miredo.8

- document pid file
- emphasis fixes

------------------------------------------------------------------------
r269 | remi | 2004-12-02 14:59:05 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Support for creating a PID file

------------------------------------------------------------------------
r268 | remi | 2004-12-02 14:58:55 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/miredo.8

Signals documentation

------------------------------------------------------------------------
r267 | remi | 2004-12-02 11:12:41 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/TODO

DNS chroot support is a packager's job, not mine

------------------------------------------------------------------------
r266 | remi | 2004-12-02 11:10:33 +0100 (Thu, 02 Dec 2004) | 3 lines
Changed paths:
   M /trunk/README

- Updated README (ie. insecure install by default)
- Note about bootstrap for SVN checkouters

------------------------------------------------------------------------
r265 | remi | 2004-12-02 10:43:52 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Fix capabilities when running as root

------------------------------------------------------------------------
r264 | remi | 2004-12-02 10:33:42 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

Update translation

------------------------------------------------------------------------
r263 | remi | 2004-12-02 10:31:51 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Warn when running Miredo as root

------------------------------------------------------------------------
r262 | remi | 2004-12-02 10:31:33 +0100 (Thu, 02 Dec 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

Made --disable-miredo-user the default, to avoid user annoyance

------------------------------------------------------------------------
r261 | remi | 2004-11-29 11:36:17 +0100 (Mon, 29 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

Mise-à-jour de la traduction francophone

------------------------------------------------------------------------
r260 | remi | 2004-11-29 11:27:48 +0100 (Mon, 29 Nov 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Common error message when system privileges seem to be lacking

------------------------------------------------------------------------
r259 | remi | 2004-11-29 11:16:07 +0100 (Mon, 29 Nov 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Do not reset effective UID when it's not needed

------------------------------------------------------------------------
r258 | remi | 2004-11-28 00:17:27 +0100 (Sun, 28 Nov 2004) | 2 lines
Changed paths:
   M /trunk/NEWS

Minor features enhancement, not major

------------------------------------------------------------------------
r257 | remi | 2004-11-28 00:16:17 +0100 (Sun, 28 Nov 2004) | 2 lines
Changed paths:
   M /trunk/README

/dev/random is required too

------------------------------------------------------------------------
r256 | remi | 2004-11-28 00:14:05 +0100 (Sun, 28 Nov 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/security.cpp

Very useful error message when /dev/{u,}random could not be opened
(particularly useful when chrooted)

------------------------------------------------------------------------
r255 | remi | 2004-11-28 00:10:16 +0100 (Sun, 28 Nov 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Fix error message when using a '0' as UDP port

------------------------------------------------------------------------
r254 | remi | 2004-11-27 23:29:05 +0100 (Sat, 27 Nov 2004) | 3 lines
Changed paths:
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

- No longer require CAP_SETUID
- Drop CAP_SETUID

------------------------------------------------------------------------
r253 | remi | 2004-11-27 19:49:19 +0100 (Sat, 27 Nov 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS

Gettext news

------------------------------------------------------------------------
r252 | remi | 2004-11-27 19:47:15 +0100 (Sat, 27 Nov 2004) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/src/main.c
   M /trunk/src/privproc.cpp

POSIX.1e support

------------------------------------------------------------------------
r251 | remi | 2004-11-13 15:42:56 +0100 (Sat, 13 Nov 2004) | 2 lines
Changed paths:
   M /trunk/AUTHORS

UTF-8

------------------------------------------------------------------------
r250 | remi | 2004-11-13 15:42:36 +0100 (Sat, 13 Nov 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Made US-ASCII

------------------------------------------------------------------------
r249 | remi | 2004-11-13 15:40:24 +0100 (Sat, 13 Nov 2004) | 2 lines
Changed paths:
   M /trunk/THANKS

UTF-8 conversion

------------------------------------------------------------------------
r248 | remi | 2004-11-13 15:40:04 +0100 (Sat, 13 Nov 2004) | 2 lines
Changed paths:
   M /trunk/miredo.8

Removed confusing sentence about -p option's default behaviour

------------------------------------------------------------------------
r247 | remi | 2004-11-01 21:38:37 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po

Intellectual property comments fix

------------------------------------------------------------------------
r246 | remi | 2004-11-01 21:37:54 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/TODO

Updated todo list

------------------------------------------------------------------------
r245 | remi | 2004-11-01 21:32:02 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot
   M /trunk/src/main.c

Fixed french quotes

------------------------------------------------------------------------
r244 | remi | 2004-11-01 21:16:16 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

Fix US english quotes

------------------------------------------------------------------------
r243 | remi | 2004-11-01 21:08:36 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po

Complete french translation

------------------------------------------------------------------------
r242 | remi | 2004-11-01 21:06:37 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

PO merge

------------------------------------------------------------------------
r241 | remi | 2004-11-01 21:05:42 +0100 (Mon, 01 Nov 2004) | 3 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/po/fr.po
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

English string fixes
Near complete french translation

------------------------------------------------------------------------
r240 | remi | 2004-11-01 20:13:07 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po
   M /trunk/po/miredo.pot

PO merge

------------------------------------------------------------------------
r239 | remi | 2004-11-01 20:12:02 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/po/fr.po
   M /trunk/src/main.c

Strings clean up

------------------------------------------------------------------------
r238 | remi | 2004-11-01 19:29:07 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po

PO updates

------------------------------------------------------------------------
r237 | remi | 2004-11-01 19:27:54 +0100 (Mon, 01 Nov 2004) | 3 lines
Changed paths:
   M /trunk/po/fr.po

Typo


------------------------------------------------------------------------
r236 | remi | 2004-11-01 19:27:30 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po

Fixes

------------------------------------------------------------------------
r235 | remi | 2004-11-01 19:26:10 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/fr.po

Fixes

------------------------------------------------------------------------
r234 | remi | 2004-11-01 19:24:41 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   A /trunk/po/LINGUAS
   A /trunk/po/fr.po
   M /trunk/po/miredo.pot

Partial french translation

------------------------------------------------------------------------
r233 | remi | 2004-11-01 19:19:07 +0100 (Mon, 01 Nov 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/po/POTFILES.in

Much less debug messages.
Fixed some messages.

------------------------------------------------------------------------
r232 | remi | 2004-11-01 18:40:35 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/po/miredo.pot
   M /trunk/src/Makefile.am
   M /trunk/src/main.c

Init locales

------------------------------------------------------------------------
r231 | remi | 2004-11-01 18:30:59 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/security.cpp
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

#include <gettext.h>

------------------------------------------------------------------------
r230 | remi | 2004-11-01 18:26:56 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/bootstrap

Use <gettext.h>

------------------------------------------------------------------------
r229 | remi | 2004-11-01 18:26:08 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   A /trunk/include/Makefile.am

include/ handled by Automake

------------------------------------------------------------------------
r228 | remi | 2004-11-01 18:23:55 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   A /trunk/include
   M /trunk/libtun6/Makefile.am

include directory for external headers

------------------------------------------------------------------------
r227 | remi | 2004-11-01 18:18:49 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/bootstrap

Cosmetic clean up

------------------------------------------------------------------------
r226 | remi | 2004-11-01 18:17:57 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/bootstrap

Typo

------------------------------------------------------------------------
r225 | remi | 2004-11-01 18:17:16 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/bootstrap

bootstrap script from tcpreen

------------------------------------------------------------------------
r224 | remi | 2004-11-01 18:14:13 +0100 (Mon, 01 Nov 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/Makefile.am
   M /trunk/configure.ac
   M /trunk/m4/Makefile.am
   A /trunk/po
   A /trunk/po/ChangeLog
   A /trunk/po/Makevars
   A /trunk/po/POTFILES.in
   A /trunk/po/miredo.pot

Gettext support

------------------------------------------------------------------------
r223 | remi | 2004-10-31 16:04:37 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Removed useless function call

------------------------------------------------------------------------
r222 | remi | 2004-10-31 15:53:42 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Basic packet sanity check before SendUnreach

------------------------------------------------------------------------
r221 | remi | 2004-10-31 12:15:04 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.cpp

Removed error message

------------------------------------------------------------------------
r220 | remi | 2004-10-31 12:14:30 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/relay.cpp

Do not reply to packets that are not eligible for ICMPv6 error reply

------------------------------------------------------------------------
r219 | remi | 2004-10-31 11:59:21 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.cpp

Fixed ICMPv6 error packets length

------------------------------------------------------------------------
r218 | remi | 2004-10-31 11:22:31 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Send administratively prohibited error messages

------------------------------------------------------------------------
r217 | remi | 2004-10-31 11:22:03 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Better comments

------------------------------------------------------------------------
r216 | remi | 2004-10-31 11:07:38 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/packets.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Send an unreachable error when the tunnel is down

------------------------------------------------------------------------
r215 | remi | 2004-10-31 11:02:57 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Function to send a destination unreachable error

------------------------------------------------------------------------
r214 | remi | 2004-10-31 10:48:50 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

Next release version

------------------------------------------------------------------------
r213 | remi | 2004-10-31 10:48:29 +0100 (Sun, 31 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/packets.h

Function to build ICMPv6 error messages

------------------------------------------------------------------------
r212 | remi | 2004-10-30 22:25:33 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/miredo.8

Reflect port change

------------------------------------------------------------------------
r211 | remi | 2004-10-30 22:24:53 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Updated ChangeLog for release 0.3.0

------------------------------------------------------------------------
r210 | remi | 2004-10-30 22:23:12 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac

Changed version number to 0.3.0

------------------------------------------------------------------------
r209 | remi | 2004-10-30 22:21:28 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Forgot one Darwin warning

------------------------------------------------------------------------
r208 | remi | 2004-10-30 22:15:28 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

Warning fixes

------------------------------------------------------------------------
r207 | remi | 2004-10-30 22:10:17 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.h

Removed useless const qualifier

------------------------------------------------------------------------
r206 | remi | 2004-10-30 22:05:40 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Fix error message about tunnel device file

------------------------------------------------------------------------
r205 | remi | 2004-10-30 22:03:47 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Better wrapping of the chroot warning

------------------------------------------------------------------------
r204 | remi | 2004-10-30 22:01:17 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Improved error messages again

------------------------------------------------------------------------
r203 | remi | 2004-10-30 22:00:56 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/libtun6/ipv6-tunnel.h

Driver diagnostic (mainly for Linux and Darwin)

------------------------------------------------------------------------
r202 | remi | 2004-10-30 21:35:04 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/TODO
   M /trunk/miredo.8

Updated doc to reflect latest changes

------------------------------------------------------------------------
r201 | remi | 2004-10-30 20:48:08 +0200 (Sat, 30 Oct 2004) | 3 lines
Changed paths:
   M /trunk/src/miredo.cpp

Let the kernel choose a service port automatically instead of
hard-coding non standard port 3545.

------------------------------------------------------------------------
r200 | remi | 2004-10-30 20:41:53 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Removed debug messages

------------------------------------------------------------------------
r199 | remi | 2004-10-30 20:39:55 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/queue.cpp

Removed debug messages

------------------------------------------------------------------------
r198 | remi | 2004-10-30 20:39:09 +0200 (Sat, 30 Oct 2004) | 6 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Implemented full queueing of IPv6 packets :
- both way,
- more than one packet,
- with proper dequeuing.


------------------------------------------------------------------------
r197 | remi | 2004-10-30 20:31:22 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/queue.cpp
   M /trunk/libteredo/queue.h

Fixes

------------------------------------------------------------------------
r196 | remi | 2004-10-30 18:52:26 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/queue.h

PacketsQueue made a virtual class

------------------------------------------------------------------------
r195 | remi | 2004-10-30 18:51:50 +0200 (Sat, 30 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/Makefile.am
   A /trunk/libteredo/queue.cpp
   A /trunk/libteredo/queue.h

Common support for real packets queue (with several packets)

------------------------------------------------------------------------
r194 | remi | 2004-10-28 22:20:02 +0200 (Thu, 28 Oct 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/README

Use /var/lib/miredo instead of /var/run/miredo as a better sample
chroot directory

------------------------------------------------------------------------
r193 | remi | 2004-10-27 23:18:39 +0200 (Wed, 27 Oct 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/TODO

Update for release 0.2.3

------------------------------------------------------------------------
r192 | remi | 2004-10-27 23:18:01 +0200 (Wed, 27 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Do not detect connectivity loss until it is fixed

------------------------------------------------------------------------
r191 | remi | 2004-10-27 23:09:37 +0200 (Wed, 27 Oct 2004) | 2 lines
Changed paths:
   M /trunk/TODO

More pending issues to be resolved

------------------------------------------------------------------------
r190 | remi | 2004-10-27 22:53:51 +0200 (Wed, 27 Oct 2004) | 2 lines
Changed paths:
   D /trunk/.cvsignore
   D /trunk/admin/.cvsignore
   D /trunk/libteredo/.cvsignore
   D /trunk/libtun6/.cvsignore
   D /trunk/m4/.cvsignore
   D /trunk/src/.cvsignore

Meanling less with Subversion

------------------------------------------------------------------------
r189 | remi | 2004-10-24 18:02:24 +0200 (Sun, 24 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Fix comments

------------------------------------------------------------------------
r188 | remi | 2004-10-24 00:14:08 +0200 (Sun, 24 Oct 2004) | 2 lines
Changed paths:
   M /trunk/bootstrap

Fixed

------------------------------------------------------------------------
r187 | remi | 2004-10-23 23:01:00 +0200 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/TODO
   M /trunk/miredo.8

Reflect changes

------------------------------------------------------------------------
r186 | remi | 2004-10-23 22:49:33 +0200 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp

Add a default route through the tunnel

------------------------------------------------------------------------
r185 | remi | 2004-10-23 22:49:18 +0200 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Remove a unused variable which caused a bug

------------------------------------------------------------------------
r184 | remi | 2004-10-23 22:48:46 +0200 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Linux driver: Use the same automatic metric as the Linux kernel

------------------------------------------------------------------------
r183 | remi | 2004-10-23 18:16:44 +0200 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Avoid warning message on Mac OS X

------------------------------------------------------------------------
r182 | remi | 2004-10-23 18:13:41 +0200 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Typos

------------------------------------------------------------------------
r181 | remi | 2004-10-23 18:07:20 +0200 (Sat, 23 Oct 2004) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/libtun6/ipv6-tunnel.cpp

Untested (probably not working) support for OpenBSD, NetBSD and Darwin
kernels tunneling

------------------------------------------------------------------------
r180 | remi | 2004-10-23 15:28:26 +0200 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

Next release number

------------------------------------------------------------------------
r179 | remi | 2004-10-23 15:28:14 +0200 (Sat, 23 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.c

Mac OS X compilation fix

------------------------------------------------------------------------
r178 | remi | 2004-10-16 12:11:11 +0200 (Sat, 16 Oct 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Updated ChangeLog

------------------------------------------------------------------------
r177 | remi | 2004-10-16 12:09:29 +0200 (Sat, 16 Oct 2004) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/miredo.8

Update documentation for new --bind option

------------------------------------------------------------------------
r176 | remi | 2004-10-16 11:57:15 +0200 (Sat, 16 Oct 2004) | 3 lines
Changed paths:
   M /trunk/src/main.c

Support for setting the relay/client bind address through the command line,
print that setting with -v

------------------------------------------------------------------------
r175 | remi | 2004-10-16 11:48:22 +0200 (Sat, 16 Oct 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Support for binding client/relay to a specific IPv4 address

------------------------------------------------------------------------
r174 | remi | 2004-10-16 11:27:09 +0200 (Sat, 16 Oct 2004) | 2 lines
Changed paths:
   M /trunk/THANKS

Updated thanks

------------------------------------------------------------------------
r173 | remi | 2004-10-15 10:47:53 +0200 (Fri, 15 Oct 2004) | 2 lines
Changed paths:
   M /trunk/src/Makefile.am

Define _GNU_SOURCE for old glibc

------------------------------------------------------------------------
r172 | remi | 2004-09-25 15:12:03 +0200 (Sat, 25 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.c

FreeBSD compile fix

------------------------------------------------------------------------
r171 | remi | 2004-09-25 15:07:42 +0200 (Sat, 25 Sep 2004) | 2 lines
Changed paths:
   M /trunk/NEWS

Updates for upcoming release

------------------------------------------------------------------------
r170 | remi | 2004-09-25 12:40:15 +0200 (Sat, 25 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Fix transmission of ICMP6 echo request through server

------------------------------------------------------------------------
r169 | remi | 2004-09-25 12:32:55 +0200 (Sat, 25 Sep 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/server.cpp
   M /trunk/src/server.h

Fix segfault in server code

------------------------------------------------------------------------
r168 | remi | 2004-09-25 11:50:38 +0200 (Sat, 25 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.cpp

Fixed ICMP6 router solicitation payload length

------------------------------------------------------------------------
r167 | remi | 2004-09-04 12:48:58 +0200 (Sat, 04 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/packets.cpp
   M /trunk/libteredo/packets.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libteredo/security.cpp
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h
   M /trunk/libteredo/teredo.c
   M /trunk/libteredo/teredo.h
   M /trunk/libteredo/v4global.c
   M /trunk/libteredo/v4global.h
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/libtun6/ipv6-tunnel.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h
   M /trunk/src/server.cpp
   M /trunk/src/server.h

#include clean up

------------------------------------------------------------------------
r166 | remi | 2004-09-03 18:06:23 +0200 (Fri, 03 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Support for server that do not insert an origin indication in bubbles

------------------------------------------------------------------------
r165 | remi | 2004-09-03 16:59:03 +0200 (Fri, 03 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Fix generation of nonce value for unknown peer

------------------------------------------------------------------------
r164 | remi | 2004-09-03 16:28:10 +0200 (Fri, 03 Sep 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Fix frequent connectivity lost with cone NAT.
Fix some weaknesses/problems in handling of server packets

------------------------------------------------------------------------
r163 | remi | 2004-09-03 15:31:57 +0200 (Fri, 03 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Print log message only once when removing tunnel

------------------------------------------------------------------------
r158 | remi | 2004-09-03 14:05:51 +0200 (Fri, 03 Sep 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

Update release number

------------------------------------------------------------------------
r157 | remi | 2004-09-03 14:03:31 +0200 (Fri, 03 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Fix maintenance of connectivity to server in case of cone NAT

------------------------------------------------------------------------
r156 | remi | 2004-09-03 13:55:20 +0200 (Fri, 03 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Fixed restart delay when symmetric NAT is detected

------------------------------------------------------------------------
r155 | remi | 2004-09-01 19:15:34 +0200 (Wed, 01 Sep 2004) | 3 lines
Changed paths:
   M /trunk/README
   M /trunk/libteredo/relay.cpp
   M /trunk/src/miredo.cpp

Fix typo in GenerateNonce that prevented the Teredo client from
functionning at all

------------------------------------------------------------------------
r154 | remi | 2004-09-01 13:59:32 +0200 (Wed, 01 Sep 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Updated ChangeLog

------------------------------------------------------------------------
r153 | remi | 2004-09-01 13:50:09 +0200 (Wed, 01 Sep 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/Makefile.am

Removed checks for OpenSSL

------------------------------------------------------------------------
r152 | remi | 2004-09-01 13:48:47 +0200 (Wed, 01 Sep 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/Makefile.am
   M /trunk/libteredo/relay.cpp
   A /trunk/libteredo/security.cpp
   A /trunk/libteredo/security.h

Removed dependency on OpenSSL library

------------------------------------------------------------------------
r151 | remi | 2004-09-01 13:47:24 +0200 (Wed, 01 Sep 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Use daemon() (more secure)

------------------------------------------------------------------------
r150 | remi | 2004-09-01 13:46:58 +0200 (Wed, 01 Sep 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Fix error message UDP port number

------------------------------------------------------------------------
r149 | remi | 2004-09-01 12:44:59 +0200 (Wed, 01 Sep 2004) | 2 lines
Changed paths:
   M /trunk/README

New chroot instructions for Teredo client

------------------------------------------------------------------------
r148 | remi | 2004-08-31 22:02:53 +0200 (Tue, 31 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Export some client qualification settings

------------------------------------------------------------------------
r147 | remi | 2004-08-31 21:53:06 +0200 (Tue, 31 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.h

Global settings for qualification procedure created

------------------------------------------------------------------------
r146 | remi | 2004-08-31 21:46:29 +0200 (Tue, 31 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Bogus comment removed

------------------------------------------------------------------------
r145 | remi | 2004-08-31 10:48:19 +0200 (Tue, 31 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

- made TeredoRelay class re-entrant (not thread-safe though),
- notify the kernel when the tunnel connectivity is lost.

------------------------------------------------------------------------
r144 | remi | 2004-08-30 19:05:18 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/README

Fixed some outdated informations and some minor improvements

------------------------------------------------------------------------
r143 | remi | 2004-08-30 18:13:05 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/AUTHORS

Removed possibly incorrect use of english word "autonomous"

------------------------------------------------------------------------
r142 | remi | 2004-08-30 17:55:52 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.ac
   M /trunk/miredo.8

Change version number. Documentation fix.

------------------------------------------------------------------------
r141 | remi | 2004-08-30 15:10:35 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/miredo.8

The right route command for FreeBSD

------------------------------------------------------------------------
r140 | remi | 2004-08-30 14:52:05 +0200 (Mon, 30 Aug 2004) | 3 lines
Changed paths:
   M /trunk/src/miredo.cpp

Fix for relay mode :
bring interface up and set up link-local address

------------------------------------------------------------------------
r139 | remi | 2004-08-30 14:41:04 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/v4global.c

FreeBSD compilation fix

------------------------------------------------------------------------
r138 | remi | 2004-08-30 14:28:46 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/libtun6/ipv6-tunnel.cpp

FreeBSD compilation fix

------------------------------------------------------------------------
r137 | remi | 2004-08-30 14:07:43 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/Makefile.am
   A /trunk/libteredo/packets.cpp (from /trunk/libteredo/relay-packets.cpp:133)
   A /trunk/libteredo/packets.h (from /trunk/libteredo/relay-packets.h:133)
   D /trunk/libteredo/relay-packets.cpp
   D /trunk/libteredo/relay-packets.h
   M /trunk/libteredo/relay.cpp

Clean up

------------------------------------------------------------------------
r136 | remi | 2004-08-30 13:49:19 +0200 (Mon, 30 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Make IPv6 addresses requests as big as struct ifreq on Linux
(make valgrind happy)

------------------------------------------------------------------------
r135 | remi | 2004-08-30 13:25:40 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Make valgrind happy with RAND_*bytes

------------------------------------------------------------------------
r134 | remi | 2004-08-30 12:32:20 +0200 (Mon, 30 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/teredo-udp.cpp

Check TeredoRelayUDP / TeredoServerUDP socket state before trying to send a
packet

------------------------------------------------------------------------
r133 | remi | 2004-08-30 12:29:01 +0200 (Mon, 30 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay-packets.cpp
   M /trunk/libteredo/relay-packets.h
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Do not regenerate auth nonce every time.
Use a truly random nonce.

------------------------------------------------------------------------
r132 | remi | 2004-08-30 12:13:42 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp

Call IPv6Tunnel::CleanUp explicitly

------------------------------------------------------------------------
r131 | remi | 2004-08-30 12:12:22 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/libtun6/ipv6-tunnel.h

Added a CleanUp () function.

------------------------------------------------------------------------
r130 | remi | 2004-08-30 11:32:53 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Fix use of unitialized value

------------------------------------------------------------------------
r129 | remi | 2004-08-30 11:24:35 +0200 (Mon, 30 Aug 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac

Check the right function in -lssl

------------------------------------------------------------------------
r128 | remi | 2004-08-30 11:17:57 +0200 (Mon, 30 Aug 2004) | 3 lines
Changed paths:
   M /trunk/src/main.c

Do not chroot when this is not needed.
Do not print a confusing error if setgroups fails.

------------------------------------------------------------------------
r127 | rdenisc | 2004-08-29 21:28:03 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/README
   M /trunk/THANKS
   M /trunk/miredo.8

Documentation updates

------------------------------------------------------------------------
r126 | rdenisc | 2004-08-29 21:04:50 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/libteredo/relay-packets.cpp
   M /trunk/libteredo/relay-packets.h
   M /trunk/libteredo/relay.cpp

Check nonce value in ICMPv6 echo replies

------------------------------------------------------------------------
r125 | rdenisc | 2004-08-29 19:39:04 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay-packets.cpp
   M /trunk/libteredo/relay-packets.h

Clean up functions to send bubbles

------------------------------------------------------------------------
r124 | rdenisc | 2004-08-29 19:31:06 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Reply to server bubbles

------------------------------------------------------------------------
r123 | rdenisc | 2004-08-29 19:30:08 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay-packets.cpp
   M /trunk/libteredo/relay-packets.h

More general support for sending bubbles

------------------------------------------------------------------------
r122 | rdenisc | 2004-08-29 18:59:37 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Adjust/Fix server ping delay when qualification succeeds

------------------------------------------------------------------------
r121 | rdenisc | 2004-08-29 18:15:32 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay-packets.h
   M /trunk/libteredo/relay.cpp

Send echo request to discover relay

------------------------------------------------------------------------
r120 | rdenisc | 2004-08-29 17:56:07 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/relay-packets.cpp

Support for sending ICMPv6 Echo request

------------------------------------------------------------------------
r119 | rdenisc | 2004-08-29 17:33:53 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Check confirmation byte from server

------------------------------------------------------------------------
r118 | rdenisc | 2004-08-29 15:20:07 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/relay.cpp

Client packet reception implementation  + some fixes

------------------------------------------------------------------------
r117 | rdenisc | 2004-08-29 11:10:12 +0200 (Sun, 29 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/relay.cpp

Fixed memory leak when a recycling peer entry

------------------------------------------------------------------------
r116 | rdenisc | 2004-08-29 09:56:11 +0200 (Sun, 29 Aug 2004) | 4 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/miredo.cpp
   M /trunk/src/privproc.cpp
   M /trunk/src/privproc.h

Do not use privsep for Teredo relay,
set up a route instead of a buggy Teredo address.
Fix setuid for Teredo client

------------------------------------------------------------------------
r115 | rdenisc | 2004-08-28 17:14:25 +0200 (Sat, 28 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Client address change detection

------------------------------------------------------------------------
r114 | rdenisc | 2004-08-28 15:49:53 +0200 (Sat, 28 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/Makefile.am
   A /trunk/libteredo/relay-packets.cpp
   A /trunk/libteredo/relay-packets.h
   M /trunk/libteredo/relay.cpp

Code split

------------------------------------------------------------------------
r113 | rdenisc | 2004-08-28 14:29:51 +0200 (Sat, 28 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Removed bogus DEBUG message

------------------------------------------------------------------------
r112 | rdenisc | 2004-08-28 14:29:26 +0200 (Sat, 28 Aug 2004) | 3 lines
Changed paths:
   M /trunk/src/miredo.cpp

Use privsep to bring up the interface,
Fix initial_addr in case of Teredo client

------------------------------------------------------------------------
r111 | rdenisc | 2004-08-28 14:23:06 +0200 (Sat, 28 Aug 2004) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp

Support for changing interface state from privproc

------------------------------------------------------------------------
r110 | rdenisc | 2004-08-28 14:07:23 +0200 (Sat, 28 Aug 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/privproc.cpp

Fixes memcpy instead of memcmp,
some cleanups

------------------------------------------------------------------------
r109 | rdenisc | 2004-08-28 13:51:21 +0200 (Sat, 28 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/src/privproc.cpp

Fixes for Qualitification

------------------------------------------------------------------------
r108 | rdenisc | 2004-08-28 12:36:50 +0200 (Sat, 28 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/miredo.cpp

Increase select delay

------------------------------------------------------------------------
r107 | rdenisc | 2004-08-28 11:56:19 +0200 (Sat, 28 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.h

Comment about alignment

------------------------------------------------------------------------
r106 | rdenisc | 2004-08-27 18:58:57 +0200 (Fri, 27 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/teredo.c
   M /trunk/libteredo/teredo.h

a flag is singular

------------------------------------------------------------------------
r105 | rdenisc | 2004-08-27 18:57:32 +0200 (Fri, 27 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/src/miredo.cpp

Complete previous commit
Some comment

------------------------------------------------------------------------
r104 | rdenisc | 2004-08-27 18:42:19 +0200 (Fri, 27 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/miredo.cpp

state -> probe

------------------------------------------------------------------------
r103 | rdenisc | 2004-08-27 18:21:10 +0200 (Fri, 27 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h
   M /trunk/src/miredo.cpp

Fix router solicitation
Fix select/ReceivePacket usage

------------------------------------------------------------------------
r102 | rdenisc | 2004-08-27 17:04:32 +0200 (Fri, 27 Aug 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Call relay->Process() every 100th milliseconds

------------------------------------------------------------------------
r101 | rdenisc | 2004-08-27 16:54:52 +0200 (Fri, 27 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Partial qualification procedure implementation
(only send)

------------------------------------------------------------------------
r100 | rdenisc | 2004-08-27 12:21:59 +0200 (Fri, 27 Aug 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Replaced TeredoCommonUDP with TeredoPacket.
Big step toward libteredo's thread-safety

------------------------------------------------------------------------
r99 | rdenisc | 2004-08-26 21:54:36 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Better error handling, cleanup

------------------------------------------------------------------------
r98 | rdenisc | 2004-08-26 19:19:28 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/configure.ac
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/libtun6/ipv6-tunnel.h

Use writev/readv to avoid using memcpy

------------------------------------------------------------------------
r97 | rdenisc | 2004-08-26 17:19:11 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Some cleanups

------------------------------------------------------------------------
r96 | rdenisc | 2004-08-26 17:04:51 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.h

Removed thread-unsafe by design function ReplyPacket

------------------------------------------------------------------------
r95 | rdenisc | 2004-08-26 17:03:57 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Do not user TeredoCommonUDP::ReplyPacket. Not thread-safe by design.

------------------------------------------------------------------------
r94 | rdenisc | 2004-08-26 15:33:34 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Cleanups

------------------------------------------------------------------------
r93 | rdenisc | 2004-08-26 15:32:51 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.c
   M /trunk/libteredo/teredo.h

use 'const' qualifier where appropriate

------------------------------------------------------------------------
r92 | rdenisc | 2004-08-26 12:43:42 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Fix router solicitation

------------------------------------------------------------------------
r91 | rdenisc | 2004-08-26 12:20:48 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/privproc.cpp

Don't try to terminate privsep twice

------------------------------------------------------------------------
r90 | rdenisc | 2004-08-26 11:47:08 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/TODO

Updated todo list

------------------------------------------------------------------------
r89 | rdenisc | 2004-08-26 11:37:54 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/miredo.8
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Only one server for client. Some cleanups.

------------------------------------------------------------------------
r88 | rdenisc | 2004-08-26 10:02:22 +0200 (Thu, 26 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/configure.ac
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/Makefile.am

Gerenate random auth nonce with OpenSSL

------------------------------------------------------------------------
r87 | rdenisc | 2004-08-24 21:58:23 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Method to send a Router Solicitation

------------------------------------------------------------------------
r86 | rdenisc | 2004-08-24 21:12:17 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Removed useless Authentication header memcpy

------------------------------------------------------------------------
r85 | rdenisc | 2004-08-24 21:03:42 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Got rid of a useless IPv6 address copy

------------------------------------------------------------------------
r84 | rdenisc | 2004-08-24 20:58:32 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

Fixes for some ICC warnings

------------------------------------------------------------------------
r83 | rdenisc | 2004-08-24 20:53:52 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/teredo-udp.cpp

Simpler Teredo header decoding

------------------------------------------------------------------------
r82 | rdenisc | 2004-08-24 20:52:49 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Implement update of last server interaction time

------------------------------------------------------------------------
r81 | rdenisc | 2004-08-24 20:52:04 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.h

Remember server last interaction time

------------------------------------------------------------------------
r80 | rdenisc | 2004-08-24 20:50:53 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo-udp.h

Comment

------------------------------------------------------------------------
r79 | rdenisc | 2004-08-24 20:49:40 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Check Teredo prefix for validity before use

------------------------------------------------------------------------
r78 | rdenisc | 2004-08-24 20:49:09 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/teredo.c
   M /trunk/libteredo/teredo.h

Added function to check a Teredo prefix

------------------------------------------------------------------------
r77 | rdenisc | 2004-08-24 20:48:34 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/server.cpp

Remove useless #include

------------------------------------------------------------------------
r76 | rdenisc | 2004-08-24 18:00:26 +0200 (Tue, 24 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Support for client mode in Miredo core
(though the underlying support in libteredo is largely incomplete)

------------------------------------------------------------------------
r75 | rdenisc | 2004-08-24 16:25:35 +0200 (Tue, 24 Aug 2004) | 3 lines
Changed paths:
   M /trunk/miredo.8
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h

Verbose option to print config at startup
Command line support for client mode (not yet supported internally)

------------------------------------------------------------------------
r74 | rdenisc | 2004-08-24 11:49:39 +0200 (Tue, 24 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS
   M /trunk/README
   M /trunk/miredo.8
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Support for relaying behind a restricted NAT

------------------------------------------------------------------------
r73 | rdenisc | 2004-08-22 18:58:53 +0200 (Sun, 22 Aug 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/TODO
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/main.c

Support for creating relay behind a restricted NAT
(a command line option to enable that feature is still missing)

------------------------------------------------------------------------
r72 | rdenisc | 2004-08-22 18:53:43 +0200 (Sun, 22 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Send direct bubble if appropriate

------------------------------------------------------------------------
r71 | rdenisc | 2004-08-22 18:43:54 +0200 (Sun, 22 Aug 2004) | 3 lines
Changed paths:
   M /trunk/libteredo/relay.cpp

Catch very unlikely lack of memory error.
We still have a potential DoS in the relay code.

------------------------------------------------------------------------
r70 | rdenisc | 2004-08-22 18:40:05 +0200 (Sun, 22 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Packet transmission method re-ordering for future client support

------------------------------------------------------------------------
r69 | rdenisc | 2004-08-22 17:38:26 +0200 (Sun, 22 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h

Comments

------------------------------------------------------------------------
r68 | rdenisc | 2004-08-22 17:19:32 +0200 (Sun, 22 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/src/miredo.cpp

Cosmetic cleanups

------------------------------------------------------------------------
r67 | rdenisc | 2004-08-22 16:39:38 +0200 (Sun, 22 Aug 2004) | 2 lines
Changed paths:
   M /trunk/bootstrap

Rewritten as a Makefile

------------------------------------------------------------------------
r66 | rdenisc | 2004-08-18 11:53:58 +0200 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/miredo.cpp

Wait for child processes termination where appropriate

------------------------------------------------------------------------
r65 | rdenisc | 2004-08-18 11:42:35 +0200 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp
   M /trunk/src/privproc.cpp
   M /trunk/src/privproc.h

Fixes for privileged process and cave-at for routing on FreeBSD

------------------------------------------------------------------------
r64 | rdenisc | 2004-08-18 11:41:46 +0200 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

More explicit error messages

------------------------------------------------------------------------
r63 | rdenisc | 2004-08-18 11:33:24 +0200 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.h

More comments

------------------------------------------------------------------------
r62 | rdenisc | 2004-08-18 11:26:35 +0200 (Wed, 18 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

More explicit comment

------------------------------------------------------------------------
r61 | rdenisc | 2004-08-17 21:21:13 +0200 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/miredo.cpp

Privileged miredo process to change tunnel addresses

------------------------------------------------------------------------
r60 | rdenisc | 2004-08-17 21:09:51 +0200 (Tue, 17 Aug 2004) | 3 lines
Changed paths:
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Callbacks for Teredo client support
(client constructor still missing)

------------------------------------------------------------------------
r59 | rdenisc | 2004-08-17 21:09:12 +0200 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/src/privproc.cpp
   M /trunk/src/privproc.h

Cleanup

------------------------------------------------------------------------
r58 | rdenisc | 2004-08-17 19:31:14 +0200 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/libtun6/ipv6-tunnel.h
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Made libtun6 thread-safe

------------------------------------------------------------------------
r57 | rdenisc | 2004-08-17 18:55:41 +0200 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Initial (not implemented) Teredo client API

------------------------------------------------------------------------
r56 | rdenisc | 2004-08-17 18:42:38 +0200 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Move virtual function implementations in .c file

------------------------------------------------------------------------
r55 | rdenisc | 2004-08-17 18:40:03 +0200 (Tue, 17 Aug 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Code cleanup

------------------------------------------------------------------------
r54 | rdenisc | 2004-07-31 22:15:07 +0200 (Sat, 31 Jul 2004) | 2 lines
Changed paths:
   A /trunk/src/privproc.cpp
   A /trunk/src/privproc.h

Initial support for changing Teredo addresses while running

------------------------------------------------------------------------
r53 | rdenisc | 2004-07-31 21:58:44 +0200 (Sat, 31 Jul 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h
   M /trunk/libteredo/server.cpp
   M /trunk/libteredo/server.h
   M /trunk/libteredo/teredo-udp.cpp
   M /trunk/libteredo/teredo-udp.h
   M /trunk/libteredo/teredo.h
   M /trunk/src/Makefile.am
   M /trunk/src/miredo.cpp
   A /trunk/src/relay.cpp
   A /trunk/src/relay.h
   A /trunk/src/server.cpp
   A /trunk/src/server.h

Huge patch to separate miredo from libteredo

------------------------------------------------------------------------
r52 | rdenisc | 2004-07-25 13:50:48 +0200 (Sun, 25 Jul 2004) | 2 lines
Changed paths:
   D /trunk/libteredo/Makefile.in

Should not have been commited in the first place

------------------------------------------------------------------------
r51 | rdenisc | 2004-07-23 18:44:52 +0200 (Fri, 23 Jul 2004) | 2 lines
Changed paths:
   M /trunk/libteredo/relay.cpp
   M /trunk/libteredo/relay.h

Support for sending direct bubbles (not yet used)

------------------------------------------------------------------------
r50 | rdenisc | 2004-07-22 19:38:29 +0200 (Thu, 22 Jul 2004) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/configure.ac
   D /trunk/include
   A /trunk/libteredo
   A /trunk/libteredo/.cvsignore
   A /trunk/libteredo/Makefile.am
   A /trunk/libteredo/Makefile.in
   A /trunk/libteredo/relay.cpp
   A /trunk/libteredo/relay.h
   A /trunk/libteredo/server.cpp
   A /trunk/libteredo/server.h
   A /trunk/libteredo/teredo-udp.cpp
   A /trunk/libteredo/teredo-udp.h
   A /trunk/libteredo/teredo.c
   A /trunk/libteredo/teredo.h
   A /trunk/libteredo/v4global.c
   A /trunk/libteredo/v4global.h
   M /trunk/src/Makefile.am
   D /trunk/src/common_pkt.cpp
   D /trunk/src/common_pkt.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   D /trunk/src/relay.cpp
   D /trunk/src/relay.h
   D /trunk/src/server.cpp
   D /trunk/src/server.h
   D /trunk/src/teredo-udp.cpp
   D /trunk/src/teredo-udp.h

Initial libteredo, separated from miredo core

------------------------------------------------------------------------
r49 | rdenisc | 2004-07-21 18:37:41 +0200 (Wed, 21 Jul 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/common_pkt.cpp
   M /trunk/src/common_pkt.h
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

Got rid of useless ForwardPacket

------------------------------------------------------------------------
r48 | rdenisc | 2004-07-14 16:23:56 +0200 (Wed, 14 Jul 2004) | 3 lines
Changed paths:
   M /trunk/README
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

SetEUID before fork/setsid.
README updates

------------------------------------------------------------------------
r47 | rdenisc | 2004-07-14 15:51:10 +0200 (Wed, 14 Jul 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/configure.ac
   M /trunk/miredo.8
   M /trunk/src/main.c

Do not setsid when nodetach is on,
Do not chroot in root's home by default while running as root.

------------------------------------------------------------------------
r46 | rdenisc | 2004-07-13 11:53:36 +0200 (Tue, 13 Jul 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/README
   M /trunk/TODO
   M /trunk/miredo.8
   M /trunk/src/main.c

No longer chroot by default.
Documentation updates.

------------------------------------------------------------------------
r45 | rdenisc | 2004-07-12 13:23:38 +0200 (Mon, 12 Jul 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/main.c
   M /trunk/src/relay.cpp
   M /trunk/src/teredo-udp.h

FreeBSD compilation fixes

------------------------------------------------------------------------
r44 | rdenisc | 2004-07-12 11:34:51 +0200 (Mon, 12 Jul 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c
   M /trunk/src/server.cpp
   M /trunk/src/teredo-udp.cpp

Fixes for bugs in previous commit

------------------------------------------------------------------------
r43 | rdenisc | 2004-07-12 10:48:30 +0200 (Mon, 12 Jul 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/src/miredo.cpp
   M /trunk/src/server.cpp
   M /trunk/src/teredo-udp.cpp
   M /trunk/src/teredo-udp.h

Fix for possible align problem on non-Intel platforms

------------------------------------------------------------------------
r42 | rdenisc | 2004-07-12 10:45:48 +0200 (Mon, 12 Jul 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Better diagnostic messages

------------------------------------------------------------------------
r41 | rdenisc | 2004-07-11 15:52:22 +0200 (Sun, 11 Jul 2004) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/README
   M /trunk/TODO
   M /trunk/include/teredo.h
   M /trunk/libtun6/ipv6-tunnel.h
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/teredo-udp.h

Doc updates, clean ups

------------------------------------------------------------------------
r40 | rdenisc | 2004-07-11 12:43:29 +0200 (Sun, 11 Jul 2004) | 2 lines
Changed paths:
   M /trunk/TODO
   M /trunk/src/relay.cpp
   M /trunk/src/server.cpp

A lot less debug messages

------------------------------------------------------------------------
r39 | rdenisc | 2004-07-11 12:34:41 +0200 (Sun, 11 Jul 2004) | 2 lines
Changed paths:
   M /trunk/include/teredo.c

Fix broken client port check

------------------------------------------------------------------------
r38 | rdenisc | 2004-07-11 12:17:34 +0200 (Sun, 11 Jul 2004) | 2 lines
Changed paths:
   M /trunk/src/server.cpp

(Likely useless) support for not inserting an origin indication

------------------------------------------------------------------------
r37 | rdenisc | 2004-07-11 12:08:13 +0200 (Sun, 11 Jul 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/TODO
   M /trunk/src/Makefile.am
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.h
   A /trunk/src/server.cpp
   A /trunk/src/server.h
   D /trunk/src/server_pkt.cpp
   D /trunk/src/server_pkt.h
   M /trunk/src/teredo-udp.cpp

MiredoServer class, clean up

------------------------------------------------------------------------
r36 | rdenisc | 2004-07-11 11:10:18 +0200 (Sun, 11 Jul 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/teredo-udp.cpp

Fixed recvfrom() call

------------------------------------------------------------------------
r35 | rdenisc | 2004-07-10 19:52:07 +0200 (Sat, 10 Jul 2004) | 3 lines
Changed paths:
   M /trunk/src/miredo.cpp

Implement signal handling in parent process,
Safer signals handlers

------------------------------------------------------------------------
r34 | rdenisc | 2004-07-10 19:51:20 +0200 (Sat, 10 Jul 2004) | 2 lines
Changed paths:
   M /trunk/src/main.c

Fix a warning

------------------------------------------------------------------------
r33 | rdenisc | 2004-07-10 18:31:56 +0200 (Sat, 10 Jul 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/configure.ac
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h

Signal handling, chroot support, setuid user passed from the command line

------------------------------------------------------------------------
r32 | rdenisc | 2004-07-10 18:31:25 +0200 (Sat, 10 Jul 2004) | 2 lines
Changed paths:
   M /trunk/m4/sockaddr.m4

Resync with tcpreen

------------------------------------------------------------------------
r31 | rdenisc | 2004-07-10 18:29:06 +0200 (Sat, 10 Jul 2004) | 2 lines
Changed paths:
   M /trunk/src/relay.cpp

*Silently* ignore multicast packets received from the kernel

------------------------------------------------------------------------
r30 | rdenisc | 2004-07-10 18:28:34 +0200 (Sat, 10 Jul 2004) | 2 lines
Changed paths:
   M /trunk/libtun6/ipv6-tunnel.cpp

No longer bring interface down manually on tunnel object deletion

------------------------------------------------------------------------
r29 | rdenisc | 2004-06-27 19:37:21 +0200 (Sun, 27 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/include/teredo.c
   M /trunk/include/teredo.h
   M /trunk/libtun6/ipv6-tunnel.cpp
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h
   M /trunk/src/server_pkt.cpp

User-specified Teredo prefix rather than hardcoded one

------------------------------------------------------------------------
r28 | rdenisc | 2004-06-27 17:40:25 +0200 (Sun, 27 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/server_pkt.cpp

Set IPv6 source address correctly in server's RA

------------------------------------------------------------------------
r27 | rdenisc | 2004-06-27 17:27:12 +0200 (Sun, 27 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/Makefile.am
   M /trunk/configure.ac
   A /trunk/libtun6
   A /trunk/libtun6/.cvsignore
   A /trunk/libtun6/Makefile.am
   A /trunk/libtun6/ipv6-tunnel.cpp
   A /trunk/libtun6/ipv6-tunnel.h
   M /trunk/src/Makefile.am
   M /trunk/src/common_pkt.cpp
   D /trunk/src/ipv6-tunnel.cpp
   D /trunk/src/ipv6-tunnel.h
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp

IPv6Tunnel made a library

------------------------------------------------------------------------
r26 | rdenisc | 2004-06-27 12:25:24 +0200 (Sun, 27 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/TODO
   M /trunk/include/teredo.c
   M /trunk/miredo.8
   M /trunk/src/relay.cpp
   M /trunk/src/server_pkt.cpp

Updates for draft 02

------------------------------------------------------------------------
r25 | rdenisc | 2004-06-26 22:14:28 +0200 (Sat, 26 Jun 2004) | 2 lines
Changed paths:
   M /trunk/miredo.8

More complete man page. Typos fixed.

------------------------------------------------------------------------
r24 | rdenisc | 2004-06-26 21:58:26 +0200 (Sat, 26 Jun 2004) | 2 lines
Changed paths:
   M /trunk/miredo.8

Spacing fix

------------------------------------------------------------------------
r23 | rdenisc | 2004-06-26 21:55:33 +0200 (Sat, 26 Jun 2004) | 4 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/Makefile.am
   M /trunk/README
   M /trunk/TODO
   A /trunk/miredo.8
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp

Broken FreeBSD routes support,
Initial man page,
Use local-scope Teredo cone address rather than restricted one

------------------------------------------------------------------------
r22 | rdenisc | 2004-06-26 17:47:26 +0200 (Sat, 26 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS
   M /trunk/README

Doc update for upcoming release 0.1.1

------------------------------------------------------------------------
r21 | rdenisc | 2004-06-26 17:24:26 +0200 (Sat, 26 Jun 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/common_pkt.cpp
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/miredo.cpp

Check that server primary IPv4 address is global unicast,
Code cleanups

------------------------------------------------------------------------
r20 | rdenisc | 2004-06-26 16:54:35 +0200 (Sat, 26 Jun 2004) | 2 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/miredo.cpp

Code cleanup

------------------------------------------------------------------------
r19 | rdenisc | 2004-06-26 10:51:32 +0200 (Sat, 26 Jun 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/miredo.cpp
   M /trunk/src/relay.cpp

FreeBSD addresses setup fix
Removed useless memory checks

------------------------------------------------------------------------
r18 | rdenisc | 2004-06-25 17:00:42 +0200 (Fri, 25 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/ipv6-tunnel.cpp

Compile fix for broken old KAME

------------------------------------------------------------------------
r17 | rdenisc | 2004-06-24 21:16:14 +0200 (Thu, 24 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/configure.ac
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/ipv6-tunnel.h
   M /trunk/src/miredo.cpp

Most of the FreeBSD tunneling driver (broken)

------------------------------------------------------------------------
r16 | rdenisc | 2004-06-22 18:39:53 +0200 (Tue, 22 Jun 2004) | 2 lines
Changed paths:
   M /trunk/include/teredo.c
   M /trunk/src/common_pkt.cpp
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/server_pkt.cpp

Some ICC compilation fixes

------------------------------------------------------------------------
r15 | rdenisc | 2004-06-22 18:20:25 +0200 (Tue, 22 Jun 2004) | 2 lines
Changed paths:
   M /trunk/bootstrap
   M /trunk/configure.ac
   M /trunk/src/ipv6-tunnel.cpp

Teredo is not point-to-point

------------------------------------------------------------------------
r14 | rdenisc | 2004-06-21 19:48:55 +0200 (Mon, 21 Jun 2004) | 2 lines
Changed paths:
   M /trunk/include/teredo.c
   M /trunk/include/teredo.h
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/ipv6-tunnel.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h

Various code cleanups

------------------------------------------------------------------------
r13 | rdenisc | 2004-06-20 19:48:07 +0200 (Sun, 20 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/ipv6-tunnel.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp

Add route to the Teredo prefix via the tunnel.

------------------------------------------------------------------------
r12 | rdenisc | 2004-06-20 15:53:35 +0200 (Sun, 20 Jun 2004) | 4 lines
Changed paths:
   M /trunk/ChangeLog
   A /trunk/THANKS
   M /trunk/configure.ac
   M /trunk/m4/sockaddr.m4
   M /trunk/src/common_pkt.cpp
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/ipv6-tunnel.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/relay.cpp
   M /trunk/src/relay.h
   M /trunk/src/server_pkt.cpp
   M /trunk/src/teredo-udp.cpp
   M /trunk/src/teredo-udp.h

Lots of FreeBSD compilation fixes
(still have to port tunnel driver)
Thanks to Gene Cronk for providing the testing platform

------------------------------------------------------------------------
r11 | rdenisc | 2004-06-20 12:02:41 +0200 (Sun, 20 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/TODO
   M /trunk/configure.ac
   M /trunk/m4/getopt.m4
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h

No longer require relay IPv6 vaddress specification

------------------------------------------------------------------------
r10 | rdenisc | 2004-06-18 00:52:28 +0200 (Fri, 18 Jun 2004) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/ipv6-tunnel.h
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp

Set MTU, set Teredo prefix.

------------------------------------------------------------------------
r9 | rdenisc | 2004-06-16 10:38:48 +0200 (Wed, 16 Jun 2004) | 2 lines
Changed paths:
   M /trunk/src/miredo.cpp

Obvious bug fixes

------------------------------------------------------------------------
r8 | rdenisc | 2004-06-16 10:38:09 +0200 (Wed, 16 Jun 2004) | 2 lines
Changed paths:
   A /trunk/m4/Makefile.am

Forgot to add this file

------------------------------------------------------------------------
r7 | rdenisc | 2004-06-15 18:09:22 +0200 (Tue, 15 Jun 2004) | 3 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/TODO
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/main.c
   M /trunk/src/miredo.cpp
   M /trunk/src/miredo.h
   M /trunk/src/teredo-udp.cpp
   M /trunk/src/teredo-udp.h

- relay address autoconfiguration,
- optional relay(/client) port manual setup

------------------------------------------------------------------------
r6 | rdenisc | 2004-06-14 23:52:32 +0200 (Mon, 14 Jun 2004) | 4 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/Makefile.am
   M /trunk/README
   M /trunk/TODO
   A /trunk/bootstrap
   M /trunk/configure.ac
   A /trunk/m4/getopt.m4
   A /trunk/m4/hostname.m4
   M /trunk/m4/sockaddr.m4
   M /trunk/src/Makefile.am
   D /trunk/src/conf.h
   M /trunk/src/ipv6-tunnel.cpp
   M /trunk/src/ipv6-tunnel.h
   A /trunk/src/main.c
   D /trunk/src/main.cpp
   A /trunk/src/miredo.cpp
   A /trunk/src/miredo.h
   M /trunk/src/server_pkt.cpp
   M /trunk/src/server_pkt.h
   M /trunk/src/teredo-udp.cpp
   M /trunk/src/teredo-udp.h

- support for command line options,
- support for non-root user/group,
- bring tunnel interface automatically up.

------------------------------------------------------------------------
r2 | rdenisc | 2004-06-14 16:45:57 +0200 (Mon, 14 Jun 2004) | 2 lines
Changed paths:
   M /trunk
   A /trunk/.cvsignore
   A /trunk/AUTHORS
   A /trunk/ChangeLog
   A /trunk/Makefile.am
   A /trunk/NEWS
   A /trunk/README
   A /trunk/TODO
   A /trunk/admin
   A /trunk/admin/.cvsignore
   A /trunk/configure.ac
   A /trunk/include
   A /trunk/include/.cvsignore
   A /trunk/include/Makefile.am
   A /trunk/include/teredo.c
   A /trunk/include/teredo.h
   A /trunk/m4
   A /trunk/m4/.cvsignore
   A /trunk/m4/sockaddr.m4
   A /trunk/src
   A /trunk/src/.cvsignore
   A /trunk/src/Makefile.am
   A /trunk/src/common_pkt.cpp
   A /trunk/src/common_pkt.h
   A /trunk/src/conf.h
   A /trunk/src/ipv6-tunnel.cpp
   A /trunk/src/ipv6-tunnel.h
   A /trunk/src/main.cpp
   A /trunk/src/relay.cpp
   A /trunk/src/relay.h
   A /trunk/src/server_pkt.cpp
   A /trunk/src/server_pkt.h
   A /trunk/src/teredo-udp.cpp
   A /trunk/src/teredo-udp.h

Initial revision

------------------------------------------------------------------------
r1 | remi | 2004-06-14 16:45:57 +0200 (Mon, 14 Jun 2004) | 1 line
Changed paths:
   A /branches
   A /tags
   A /trunk

New repository initialized by cvs2svn.
------------------------------------------------------------------------

ChangeLog from first internal CVS repository:

2004-05-24  remi

	* src/ipv6-tunnel.cpp:
	- support for FreeBSD tunneling driver (still a stupid compilation
	  error, routing change not implemented).

2004-05-20  remi

	* configure.ac, src/*:
	- FreeBSD compilation fixes, except tunneling driver.
	* src/main.cpp, src/ipv6-tunnel.cpp, src/miredo.cpp:
	- removed useless option to specify tunnel device file,
	- automatically add a route to the tunnel for the Teredo prefix.

2004-05-19  remi

	* src/main.cpp, src/miredo.cpp:
	- automatic interface addres configuration,
	- properly drop additionnal POSIX groups.

2004-05-17  remi

	* src/miredo.cpp, src/ipv6-tunnel.cpp:
	- set Teredo interface MTU to 1280 bytes,
	- setup Teredo interface address,
	- support for changing Teredo's prefix,
	- detach in the background.

2004-05-15  remi

	* src/main.c, src/miredo.cpp:
	- support for changing Teredo relay/client port,
	- automatic relay IPv4 address selection.

2004-05-14  remi

	* src/main.c, configure.ac:
	- support for non-root miredo user/group,
	* src/ipv6-tunnel.cpp:
	- automatically bring tunnel interface up.

2004-05-12  remi

	* main.c:
	- getopt-based command line handling: in particular,
	  support for disabling server and/or relay,
	* miredo.cpp, main.c:
	- split from main.cpp, partial code cleanup.

2004-05-07  remi

	* README:
	- initial english-public version,
	- removed French internal doc.
	* doc/*:
	- removed non-GPL documentation,
	* dump/*:
	- removed possibly ECP-ownership encumbered files.

2004-03-27  remi

	* src/*: forwarding of packet from UDP to IPv6 or from UDP to
	UDP for the server. Server implementation should be complete,
	possibly with bugs.

2004-03-22  remi

	* src/*: 
	- hopefully fixed the handling if the "Cone" flag for client
	qualification => client should now qualify properly with the
	server,
	- (partial) Solaris 8 compilation fix.

2004-03-21  remi

	* src/server_pkt.cpp:
	- sending of Router Advertisement for client "qualification".

2004-03-20  remi

	* src/teredo-udp.cpp:
	- parsing of Teredo packets headers.

2004-03-14  remi

	* src/main.cpp:
	- initial source code (non-working).

2004-03-10  remi

	* configure.ac, Makefile.am:
	- initial CVS repository,
	- initial configure scripts, and Makefiles.

